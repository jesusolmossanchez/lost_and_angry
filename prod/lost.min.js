var t=function(t,s,h,a,e){this.a=[],this.d=25,h&&(this.d=this.d/100),a&&(this.d=this.d/2);for(var o=0;o<this.d;o++)this.a.push(new i(t,s,h,a,e))},i=function(t,i,s,h,a){this.e=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)},this.h=3,this.j=15,this.k=2,this.l=15,h&&(this.h=3,this.j=30,this.k=200,this.l=1e3),this.r=this.e(0,155),this.g="0",this.b=this.e(0,55),s&&(this.r=this.e(0,255),this.g="0",this.b="0"),h&&(this.r=this.e(0,255),this.g=this.e(0,55),this.b=this.e(0,55),a&&(this.r=this.e(0,255),this.g=this.e(0,255),this.b=this.e(0,255))),this.x=t,this.y=i,this.xv=this.e(this.h,this.j),this.yv=this.e(this.h/2,this.j/2),this.xv>0?this.max_x=t+100*Math.random():this.max_x=t-100*Math.random(),this.yv>0?this.max_y=i+100*Math.random():this.max_y=i-100*Math.random(),this.opacidad=Math.random(),this.final=h,this.size=this.e(this.k,this.l)},s=function(t,i,s,h,a,e,o){this.x=t,this.y=i+o.m/2;var n=1,r=this.x+o.o+15;a||(n=-1,r=this.x-o.o+15),this.x=r,this.size=1,this.xv=35*n+s,this.yv=7*(Math.random()-.5)+h},h=function(t,i,s,h,a,e){this.x=t-e.o/4;var o=Math.floor(e.m/3);this.y=i+e.m/1.7+a.e(-o,o),this.size=1;this.angulo=90,this.xv=-1*(.5+Math.random())*5+s,this.yv=7*(Math.random()-.5)+h},a=function(i,s,h,a){this.que_pie=0,this.angulo=0,this.size_enemigo_pixel=4,this.x=s,this.y=h,this.m=12*this.size_enemigo_pixel,this.o=6*this.size_enemigo_pixel+5,this.dx=0,this.dy=0,this.friction=7e12,this.accel=500,this.shoot_back=1500,this.q=3e4,this.last_left=!1,this.s=800,this.t=i.u(),this.v=140,this.w=500,this.z=i.A+this.o,this.B=-this.o,this.C=0,this.D=Math.random()>.5,this.F=i.u(),this.muriendo=i.u(),this.G=a,this.H=[],this.I=[],this.H[0]=[[,,,1,1,1],[,,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,,],[,,1,1,,,],[1,,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,,,,,,]],this.I[0]=[[,,,1,1,1],[,,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,,],[,,1,1,,,],[1,,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.I[0].length;e++)this.I[0][e].reverse();this.H[1]=[[1,,,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,,,],[,,1,1,,,],[1,,1,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,,]],this.I[1]=[[1,,,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,,,],[,,1,1,,,],[1,,1,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,,]];for(var e=0;e<this.I[1].length;e++)this.I[1][e].reverse();this.H[2]=[[1,,,,1,1],[1,1,,,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,1,1],[1,,1,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,1,,],[,,,,,,]],this.I[2]=[[1,,,,1,1],[1,1,,,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,1,1],[1,,1,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.I[2].length;e++)this.I[2][e].reverse();this.H[3]=[[1,1,1,,,,],[1,1,1,1,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,,1,1,,],[,1,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]],this.I[3]=[[1,1,1,,,,],[1,1,1,1,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,,1,1,,],[,1,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.I[3].length;e++)this.I[3][e].reverse();this.H[4]=[[,1,,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,,,],[1,1,,1,1,1],[1,,,1,1,1],[,,,1,1,1],[,,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]],this.I[4]=[[,1,,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,,,],[1,1,,1,1,1],[1,,,1,1,1],[,,,1,1,1],[,,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.I[4].length;e++)this.I[4][e].reverse();this.J=this.H[this.G],this.K=this.I[this.G],this.update=function(t){if(!(i.M.L>i.u()||i.N>i.u())){var s=0,h=0;if(s=Math.abs(this.x-i.M.O),h=Math.abs(this.y-i.M.P),!(Math.sqrt(s*s+h*h)>i.Q/2)){h<60&&s<i.A/2?(this.rapido=!0,i.M.x<this.x?this.D=!0:this.D=!1):this.rapido=!1,this.O=this.x+this.o/2,this.P=this.y+this.m/2,this.wasleft=this.dx<0,this.wasright=this.dx>0;var a=this.friction*(this.falling?.2:1),e=this.accel;this.ddx=0,this.ddy=this.s;var o=!1;if(!this.R()||this.muerto||i.is_game_over||(o=!0,i.M.S--,i.M.T()),!this.muerto&&!o){var n=Math.random()>.9,r=Math.random()>.9;if(this.U()&&!this.jumping){var l=Math.random(),d=l<.1;l>.8?this.jump=!0:this.V()&&n?this.jump=!0:d?(this.F=i.u()+1e3,this.jump=!1):this.jump=!1}else this.W()&&r?this.jump=!0:this.V()&&n?this.jump=!0:this.jump=!1;this.D&&i.u()>this.F?(this.ddx=this.ddx-e,this.last_left=!0):this.wasleft&&(this.ddx=this.ddx+a),!this.D&&i.u()>this.F?(this.ddx=this.ddx+e,this.last_left=!1):this.wasright&&(this.ddx=this.ddx-a),this.jump&&!this.jumping&&this.t<i.u()&&(this.ddy=this.ddy-this.q,this.jumping=!0,this.falling=!0,this.t=i.u()+1e3),this.accion&&(i.counter,this.C)}this.x=this.x+t*this.dx,this.y=this.y+t*this.dy;var u=this.v;this.ddx;this.rapido||this.jumping||(u=.5*this.v,.5*this.ddx),this.muerto||o?(this.dx=0,this.dy=i.Y(this.dy+t*this.ddy,-this.w,this.w)):(this.dx=i.Y(this.dx+t*this.ddx,-u,u),this.dy=i.Y(this.dy+t*this.ddy,-this.w,this.w)),(this.wasleft&&this.dx>0||this.wasright&&this.dx<0)&&(this.dx=0);for(var f=(this.y+this.m)%i.$.Z,c=this.y%i.$.Z,m=!1,b=this.x+5;b<=this.x+this.o-5;b++)i._(b,this.y-2)&&(m=!0);for(var M=!1,y=this.x+5;y<=this.x+this.o-5;y++)i._(y,this.y+this.m)&&(M=!0);for(var x=!1,v=this.y+5;v<=this.y+this.m-5;v++)i._(this.x-6,v)&&(x=!0);for(var g=!1,p=this.y+5;p<=this.y+this.m-5;p++)i._(this.x+this.o+2,p)&&(g=!0);this.dy>=0?(this.y+this.m>i.Q&&(this.y=i.Q-this.m,this.dy=0,this.jumping=!1,this.falling=!1),M&&(this.dy=0,this.jumping=!1,this.falling=!1,f&&(this.y=20*Math.floor((this.y+this.m)/20)-this.m))):this.dy<0&&m&&c&&(this.dy=0),this.dx>0?this.x+this.o>=this.z?(this.x=10,this.dx=-this.dx):g&&(this.dx=0,this.D=!this.D):this.dx<0&&(this.x<=this.B?(this.x=i.A-this.o,this.dx=-this.dx):x&&(this.dx=0,this.D=!this.D))}}},this.aa=function(s,h,a){var e=this.x+this.dx*s,o=this.y+this.dy*s;i.M.x,i.M.dx,i.M.y,i.M.dy;if(this.R()&&!this.muerto){i.M.ba=i.u()+2e3;var n=this.x+this.o/2,r=this.y+this.m/2;i.ca.push(new t(n,r,!0))}var l=[[,,1,,,,1,1,,,],[,1,1,1,1,1,1,1,1,1,1],[,,1,1,1,1,1,1,1,1,1],[,,,1,,,,,,,],[,,,1,,,,,,,],[,,1,1,,,,,,,]],d=[[,,,1,1,,,,1,,],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,,],[,,,,,,,1,,,],[,,,,,,,1,,,],[,,,,,,,1,1,,]],u=[];u[0]=[[,1,,,1,,]],u[1]=[[,,1,,1,,]],this.muerto?this.muriendo>i.u()?this.last_left?this.angulo=this.angulo+1:this.angulo=this.angulo-1:this.last_left?this.angulo=90:this.angulo=-90:this.jumping?(this.que_pie=1,this.angulo=0):Math.abs(this.dx)>0?i.da(a,40)<.5?(this.que_pie=0,this.angulo=-2):(this.que_pie=1,this.angulo=2):this.angulo=0,h.save(),h.translate(e,o),h.rotate(this.angulo*Math.PI/180);var f=this.J,c=0,m=0;this.last_left&&(f=this.K,d,this.o);var b=0,M=0,y=0;M=Math.abs(this.x-i.M.O),y=Math.abs(this.y-i.M.P),b=Math.sqrt(M*M+y*y);var x=1-b/250,v="rgba(255, 153, 153, "+x+")";if(this.muerto)if(this.muriendo>i.u()){var g=this.muriendo-i.u();g=(410-g)/3,v="rgba(255, 255, 255, 1)";var p=10*(Math.random()-.5),_=10*(Math.random()-.5),w=10*(Math.random()-.5),P=Math.random()*g+this.m/2,S=Math.random()*g+this.m/2,I=Math.random()*g+this.m/2,q=Math.floor(155*Math.random())+100;h.beginPath(),h.fillStyle="rgba(155,155,"+q+",0.1)",h.arc(p,_,P,2*Math.PI,0,!1),h.closePath(),h.fill(),h.beginPath(),h.fillStyle="rgba(155,155,"+q+",0.2)",h.arc(_,w,S,2*Math.PI,0,!1),h.closePath(),h.fill(),h.beginPath(),h.fillStyle="rgba(155,155,"+q+",0.3)",h.arc(w,p,I,2*Math.PI,0,!1),h.closePath(),h.fill(),c=0,m=0}else this.last_left?(d,c=-50,m=20,v="rgba(200, 193, 255, "+x/4+")"):(l,c=-30,m=-50,v="rgba(200, 193, 255, "+x/4+")");i.ea(h,m,c,f,this.size_enemigo_pixel,v),this.muerto||i.ea(h,0,this.m-this.size_enemigo_pixel,u[this.que_pie],this.size_enemigo_pixel,v),h.restore()},this.fa=function(){for(var t=this.x;t<this.x+this.o;t++)for(var s=this.y-5;s<this.y+this.m;s++)if(i._(t,s))return!0;return!1},this.ga=function(){this.x=i.e(200,i.A-200),this.y=i.e(0,i.Q/2)},this.U=function(){var t=!1;return this.y+this.m>i.Q-15?t=!1:this.last_left?!i._(this.x-5,this.y+this.m+15)&&i._(this.x,this.y+this.m+15)&&(t=!0):!i._(this.x+this.o+5,this.y+this.m+15)&&i._(this.x+this.o,this.y+this.m+15)&&(t=!0),t},this.V=function(){var t=!1;if(this.last_left)for(var s=this.y-2*this.m;s<=this.y+this.m/2;s++)i._(this.x+this.o+20,s)&&!i._(this.x+this.o,s)&&(t=!0);else for(var s=this.y-2*this.m;s<=this.y+this.m/2;s++)i._(this.x-20,s)&&!i._(this.x,s)&&(t=!0);return t},this.W=function(){var t=!1,s=!1,h=!1;if(this.last_left)for(var a=this.y-this.m;a<=this.y+this.m-5;a++)i._(this.x-5,a)&&(s=!0),i._(this.x-5,a)||(t=!0);else for(var e=this.y-this.m;e<=this.y+this.m-5;e++)i._(this.x+this.o+5,e)&&(h=!0),i._(this.x+this.o+5,e)||(t=!0);return t&&(s||h)},this.R=function(){return i.ha(this.x,this.y,this.o,this.m,i.M.x,i.M.y,i.M.o,i.M.m)}},e=function(t,i,h,a,e,o){this.que_pie=0,this.angulo=0,this.size_player_pixel=4,this.x=i,this.y=h,this.m=12*this.size_player_pixel,this.o=6*this.size_player_pixel+5,this.O=this.x+this.o/2,this.P=this.y+this.m/2,this.dx=0,this.dy=0,this.ia=850,this.ja=850,this.ka=2500,this.v=220,this.w=550,this.la=!1,this.s=1e3,this.t=t.u(),this.ba=t.u(),this.q=4e4,this.z=t.A+this.o,this.B=-this.o,this.C=0,this.ma=o,this.S=o,this.L=t.u(),this.na=t.u(),this.oa=function(i){if(this.S<0&&(this.jump=!0,t.pa(!1)),t.N>t.u())return t.qa.x=30,t.qa.y=t.Q-100,void(t.ra=!1);if(!t.ra){for(t.sa(t.qa);t.ta(t.qa);)t.sa(t.qa);t.ra=!0}if(!(this.L>t.u())){this.na>t.u()&&(this.S=this.S+1,this.S>=t.ma&&(this.S=this.ma)),t.ua||this.va()&&(t.wa=!0,this.L=t.u()+3e3,this.xa()),this.ya()&&this.na<t.u()&&(this.na=t.u()+2e3,this.za()),this.O=this.x+this.o/2,this.P=this.y+this.m/2,this.wasleft=this.dx<0,this.wasright=this.dx>0;var h=this.ia*(this.falling?.2:1),a=this.ja;if(this.ddx=0,this.ddy=this.s,this.left?(this.ddx=this.ddx-a,this.la=!0):this.wasleft&&(this.ddx=this.ddx+h),this.right?(this.ddx=this.ddx+a,this.la=!1):this.wasright&&(this.ddx=this.ddx-h),this.jump&&!this.jumping&&this.t<t.u()&&(!t.Aa||t.Ba)&&(this.ddy=this.ddy-this.q,this.jumping=!0,this.falling=!0,this.t=t.u()+300),this.accion&&t.counter>this.C&&!t.Aa){this.Ca(),this.C=t.counter+3,t.Da=t.u()+20;var e=!0,o=this.ka;this.jumping&&(o/=2),this.la?(e=!1,this.ddx=this.ddx+o):this.ddx=this.ddx-o;var n=this;setTimeout(function(){t.Ea.push(new s(n.x,n.y-10,-10,-3,e,t,n))},i/3),setTimeout(function(){t.Ea.push(new s(n.x,n.y+10,10,3,e,t,n))},2*i/3),t.Ea.push(new s(this.x,this.y,0,0,e,t,this))}var r=10*this.ka,l=this.ka;this.ba-t.u()>1900&&(this.ddx=this.ddx+r*(.5-Math.random()),this.ddy=this.ddy+l*(.5-Math.random())),t.Aa&&(this.dx=800*i,this.la=!1,t.Ba&&(this.jump=!0,this.dx=1400*i)),this.x=this.x+i*this.dx,this.y=this.y+i*this.dy,this.dx=t.Y(this.dx+i*this.ddx,-this.v,this.v),this.dy=t.Y(this.dy+i*this.ddy,-this.w,this.w),(this.wasleft&&this.dx>0||this.wasright&&this.dx<0)&&(this.dx=0);for(var d=(this.y+this.m)%t.$.Z,u=this.y%t.$.Z,f=!1,c=this.x+5;c<=this.x+this.o-5;c++)t._(c,this.y-2)&&(f=!0);for(var m=!1,b=this.x+5;b<=this.x+this.o-5;b++)t._(b,this.y+this.m)&&(m=!0);for(var M=!1,y=this.y+5;y<=this.y+this.m-5;y++)t._(this.x-6,y)&&(M=!0);for(var x=!1,v=this.y+5;v<=this.y+this.m-5;v++)t._(this.x+this.o+2,v)&&(x=!0);this.dy>=0?(this.y+this.m>t.Q&&(this.y=t.Q-this.m,this.dy=0,this.jumping=!1,this.falling=!1),m&&(this.dy=0,this.jumping=!1,this.falling=!1,d&&(this.y=20*Math.floor((this.y+this.m)/20)-this.m))):this.dy<0&&f&&u&&(this.dy=0),this.dx>0?(this.x+this.o>=this.z&&(this.x=10),x&&!t.Aa&&(this.dx=0)):this.dx<0&&(this.x<=this.B&&(this.x=t.A-this.o,this.y=this.y-20),M&&(this.dx=0))}},this.Fa=function(i,s,h,a){t.N>t.u()&&(t.Ga?this.Ha():this.Ia()),t.Aa&&(t.Ba?this.Ja():this.Ka());var e=this.x+this.dx*i,o=this.y+this.dy*i,n=[[,1,,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,]],r=[[,,,,1],[1,1,1,1,1],[1,1,1,1,1],[,,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1,1],[,,,,,]],l=[[,,1,,,,1,1,,,],[,1,1,1,1,1,1,1,1,1,1],[,,1,1,1,1,1,1,1,1,1],[,,,1,,,,,,,],[,,,1,,,,,,,],[,,1,1,,,,,,,]],d=[[,,,1,1,,,,1,,],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,,],[,,,,,,,1,,,],[,,,,,,,1,,,],[,,,,,,,1,1,,]],u=[];u[0]=[[,,1,,,1]],u[1]=[[,,1,,1,,]],u[2]=[[1,,,1,,,]],u[3]=[[,1,,1,,,]];t.N>t.u()?(this.angulo*=-1.1,this.angulo+=-1,opacidad_jugador=300/(t.N-t.u()),opacidad_jugador>1&&(opacidad_jugador=1),this.angulo=1e3*(opacidad_jugador-1)):this.L>t.u()?(a?(a=-1*a*1.1,this.angulo=a+-1,s.globalAlpha-=.009):(this.angulo*=-1.1,this.angulo+=-1,s.globalAlpha-=.005),opacidad_jugador-=.01):(opacidad_jugador=1,this.jumping?(this.que_pie=1,this.angulo=0):this.left||this.right||t.Aa?t.da(h,30)<.5?(this.left?this.que_pie=2:this.que_pie=0,this.angulo=-2):this.left?(this.que_pie=3,this.angulo=2):(this.que_pie=1,this.angulo=2):this.angulo=0),s.save(),s.translate(e+this.o/2,o+this.m/2),radius=t.A/3,s.beginPath(),s.arc(0,0,300,0,2*Math.PI,!1);var f=s.createRadialGradient(0,0,.9*radius,this.o/2,this.m/2,0);if(this.ba-t.u()>1700){var c=Math.random()/2;f.addColorStop(0,"rgba(255, 11, 11, 0)"),f.addColorStop(1,"rgba(255, 11, 11, "+c+")")}else this.na>t.u()?(f.addColorStop(0,"rgba(122, 255, 122, 0)"),f.addColorStop(1,"rgba(122, 255, 122, 0.2)")):t.Aa||(f.addColorStop(0,"rgba(251, 255, 243, 0)"),f.addColorStop(1,"rgba(251, 255, 243, 0.6)"));s.fillStyle=f,s.fill(),s.rotate(this.angulo*Math.PI/180);var m=n,b=l,M=-5;this.la&&(m=r,b=d,M=5-this.o),s.translate(-this.o/2,-this.m/2);var y="rgba(210,228,241,"+opacidad_jugador+")";t.ea(s,0,0,m,this.size_player_pixel,y),t.ea(s,0,this.m-this.size_player_pixel,u[this.que_pie],this.size_player_pixel,y),this.La=0;var x="rgba(143,172,192,"+opacidad_jugador+")";if(s.translate(this.o/2.5,this.m/2),s.rotate(this.angulo*Math.PI/180),t.Aa||t.ea(s,M,0,b,3,x),s.restore(),this.ba>t.u()||this.na>t.u()){var v=this.ba;this.na>this.ba&&(v=this.na);var g=v-t.u(),p=g/2e3,_=2*this.o,w=this.S/t.ma;s.fillStyle="rgba(11, 204, 0, "+p+")",w<.8&&(s.fillStyle="rgba(224, 239, 20, "+p+")"),w<.6&&(s.fillStyle="rgba(204, 199, 0, "+p+")"),w<.4&&(s.fillStyle="rgba(239, 92, 20, "+p+")"),w<.2&&(s.fillStyle="rgba(255, 0, 0, "+p+")"),s.fillRect(e-this.o/2,o-10,w*_,5),s.strokeStyle="rgba(255,255,255,"+p+")",s.lineWidth=1,s.strokeRect(e-this.o/2,o-10,_,5)}return this.angulo},this.Ca=function(){window.disparo_audio.pause(),window.disparo_audio.currentTime=0,window.disparo_audio.play(),window.disparo_audio2.playbackRate=.5,window.disparo_audio2.pause(),window.disparo_audio2.currentTime=0,window.disparo_audio2.play()},this.T=function(){window.golpe_audio.pause(),window.golpe_audio.currentTime=0,window.golpe_audio.play()},this.xa=function(){window.levelup_audio2.playbackRate=1,window.levelup_audio2.pause(),window.levelup_audio2.currentTime=0,window.levelup_audio2.play()},this.za=function(){},this.Ia=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,1,1,1,1,1,,,1],[1,,,1,1,,1,,1,1,,1,,1,1,1,,1,1,,1,1,,,,,1,,,1,1,,,1],[1,,,1,1,1,1,,1,1,,1,,1,1,,1,,1,,1,1,1,1,,,1,1,,1,1,,,1],[1,,,1,1,,1,,1,1,,1,,1,1,,,,1,,1,1,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,,,,1,1,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,,,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],s=this.x+this.o+20,h=this.y-60;t.ea(t.ctx,s,h,i,3,"#ffffff")},this.Ha=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,1,1,1,,1,1,,1,1,,1,,1,1,1,,1,1,,1,1,,1,1,,,1],[1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,,1,1,,1,1,,,1],[1,,,1,1,,,,1,,1,1,,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],s=this.x+this.o+20,h=this.y-60;t.ea(t.ctx,s,h,i,3,"#ffffff")},this.Ja=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,1,1,1,1,,1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,,,1,1,1,1,,,1],[1,,,1,1,1,,1,1,,1,1,,1,,1,1,1,,1,1,,,1,1,,,,1,1,,,,1,1,,,,1,1,,,,1,1,,1,,1,1,,,,,1],[1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,,,1,1,1,1,,1,1,,,,1,1,1,,,1,1,1,,,1,1,,1,,1,1,1,1,,,1],[1,,,1,1,,,,1,,1,1,,1,,1,1,,,,1,,,1,1,1,1,,1,1,,,,1,1,1,,,1,1,1,,,1,1,1,,,1,1,1,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,,,,1,,1,1,,,,1,1,,,,1,1,,,,1,1,,,,,,,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,,,1,1,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,1,1,1,,1,1,1,1,,1,,1,1,1,1,,,,,1,1,1,,,1,1,,,,1,1,1,1,,1,,,1,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,,,,,1,1,,,,,1,1,,,,,,,1,1,,1,,1,1,,,,1,1,,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,1,,,,1,1,,,,,1,1,1,1,,,,,1,1,,1,,1,1,,,,1,1,1,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,1,,,,1,1,,,,,1,1,1,1,,,,,1,1,1,,,1,1,,,,1,1,1,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,,,,,1,1,,,,,,,,1,,,,,1,1,,,,1,1,,,,1,1,,1,,,1,1,,,,,,,,,1],[1,,,1,1,1,1,,1,1,1,1,,,1,1,,,,,1,1,1,1,,,,,1,1,,,,1,1,1,1,,1,1,,1,,,1,1,,,1,1,,1,1,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],s=this.x+this.o+20,h=this.y-90;t.ea(t.ctx,s,h,i,3,"#ffffff")},this.Ka=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,,1,1,,,1,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,,1,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,,,,,,,,,,,,1],[1,,,1,1,1,1,,1,1,,1,1,,1,1,,1,1,,1,1,,,1],[1,,,1,1,1,1,,1,1,,,1,,1,1,,1,1,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,]],s=this.x+this.o+20,h=this.y-60;t.ea(t.ctx,s,h,i,3,"#ffffff")},this.va=function(){var i=t.qa.x+t.qa.o/3,s=t.qa.y+t.qa.o/3,h=t.qa.o/3,a=t.qa.o/3;return t.ha(this.x,this.y,this.o,this.m,i,s,h,a)},this.ya=function(){if(!t.ua){if(void 0===t.Ma.x)return!1;return t.ha(this.x,this.y,this.o,this.m,t.Ma.x,t.Ma.y,t.Ma.o,t.Ma.m)}}},o={songData:[{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[1,2,3,4,5,6,7,8,7,9],c:[{n:[122,120,122,110,,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,122,120,122,110,,,,,,,,,,,,,,,,,,,,,,,,,,,,,125,124,125],f:[]},{n:[,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,120,122,120,110,,110,,110,,,,125,124,125,,,125,124,125,,,,,129,127,129,117,,132,134,122],f:[]},{n:[,110,,110,,110,110,110,120,122,120,110,,110,,110,117,116,115,113,119,118,117,116,120,122,120,110,,110,,110],f:[]},{n:[,110,,110,,110,110,110,120,122,120,110,,110,117,116,119,118,117,116,115,114,113,112,110,110,,110,122,,110,110],f:[]},{n:[,110,110,,,,,,110,110,,110,122,,117,116,119,118,121,120,123,124,126,127,110,110,,110,122,,110,110],f:[]},{n:[,110,110,,,,,,110,110,,110,122,,,117,119,113,,,116,111,,,112,112,,112,124,,,124],f:[]},{n:[,124,124,,122,124,125,122,124,,112,,124,,,124,,124,112,,120,119,117,110,,,110,,,,110,110],f:[]},{n:[,,110,,,,110,110,,,110,,,,110,110,,,110,,,,110,,112,,112,,124,,112,124],f:[]},{n:[,,110,,,,110,110,,,110,,,,110,110,,,110,,,,110],f:[]}]},{i:[0,160,128,1,0,160,128,0,1,210,4,7,41,0,0,0,60,4,1,2,255,0,0,32,61,5,32,6],p:[1,2,3,4,5,6,7,8,7,9,10],c:[{n:[134,132,134,122,,122,,134,132,134,122,,134,132,134,122,,122,,134,132,134,122,,132,134,122,,134,132,134,122],f:[]},{n:[,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,118,,,,142,,,118],f:[]},{n:[,,118,,142,,,118,118,,,,142,,,118,,,,,142,118,,,118,,,,142,,,118],f:[]},{n:[118,,,,142,,,118,118,118,,,142,,118,,118,,,118,142,,,,118,118,,,142,,118,118],f:[]},{n:[,118,118,,142,,,,118,118,,118,142,,,,142,118,,,142,118,,,118,118,,118,142,,118,118],f:[]},{n:[,118,118,,142,,,,118,118,,118,142,,,118,142,118,,,142,118,,,118,118,,118,142,,,118],f:[]},{n:[,118,118,,142,,118,,118,,,,142,,118,,118,118,,,142,118,118,118,,,118,,142,,118,118],f:[]},{n:[,,118,,142,,118,118,,,118,,142,,118,118,,,118,,142,,118,,118,,118,,142,,118,118],f:[]},{n:[,,118,,142,,118,118,,,118,,142,,118,118,,,118,,142,,118,118,,,,,118],f:[]},{n:[118,,,,118,,,,154],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,2,1,1,1,1,1,1,1,1],c:[{n:[154,,154,,154,,154,,154,,154,,154,,154,,154,,154,,154,,154],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,154,,154,,154,,154],f:[]}]},{i:[0,255,128,0,0,154,128,9,0,0,7,5,52,0,0,0,61,0,0,2,255,0,0,32,47,3,163,4],p:[,2,3,4,5,6,7,8,9,10],c:[{n:[],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,156,,,155,,,153],f:[]},{n:[,,,,,,151,153,149,,,,,,,,151,,,,,,,,149,,,148,,,146],f:[]},{n:[,,,,,,144,146,143,,,,,,,,139,,,,137,,,,141,,,,,,140],f:[]},{n:[,,,,137,,,,,,140,137,136,,141,140,143,142,145,144,147,148,150,151,141,,,,,,140],f:[]},{n:[,,,,141,,143,,,,144,,,,146,,,,148,149,152,,,,148,,,146,,,144],f:[]},{n:[143,,,,,,141,143,144,,,,,146,144,143,,,,,,,,144,,,,,,,,143],f:[]},{n:[,,143,,,,141,,,,141,,,,,137,141,137,136,,,,,,153,,,149,,,148],f:[]},{n:[148,,,,,,146,148,149,,,,,153,149,148,,,,,,,,134,,,,,137,,,128],f:[]},{n:[,,,,137,,,127,,,,,137,,,125,,,,,124,,,123],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,131,7],p:[,,,,,,,,,1,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],f:[]},{n:[,,,,,,,,110,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,117,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,122],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:5513,patternLen:32,endPattern:12},n={songData:[{i:[2,0,128,1,2,68,128,0,1,55,4,4,40,105,4,1,125,4,1,3,67,115,124,190,67,6,39,1],p:[1],c:[{n:[111],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:827,patternLen:32,endPattern:2},r={songData:[{i:[0,160,128,1,0,160,128,35,1,0,0,24,41,156,4,0,60,4,1,2,255,118,0,32,61,5,53,5],p:[1],c:[{n:[140],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},l={songData:[{i:[0,160,128,1,0,160,128,3,1,0,148,31,41,106,5,0,60,4,1,2,255,117,0,32,61,5,57,4],p:[1],c:[{n:[154],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},d={songData:[{i:[3,170,128,0,3,156,128,0,1,218,4,24,59,0,0,1,55,4,1,2,67,115,124,190,67,6,127,6],p:[1],c:[{n:[128],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},u=function(){var t,i,s,h,a,e=function(t){return Math.sin(6.283184*t)},o=function(t){return t%1*2-1},n=function(t){return t%1<.5?1:-1},r=function(t){var i=t%1*4;return i<2?i-1:3-i},l=function(t){return.003959503758*Math.pow(2,(t-128)/12)},d=function(t,i,s){var h,a,e,o,n,r,d,f=u[t.i[0]],c=t.i[1],m=t.i[3],b=u[t.i[4]],M=t.i[5],y=t.i[8],x=t.i[9],v=t.i[10]*t.i[10]*4,g=t.i[11]*t.i[11]*4,p=t.i[12]*t.i[12]*4,_=1/p,w=t.i[13],P=s*Math.pow(2,2-t.i[14]),S=new Int32Array(v+g+p),I=0,q=0;for(h=0,a=0;h<v+g+p;h++,a++)a>=0&&(w=w>>8|(255&w)<<4,a-=P,r=l(i+(15&w)+t.i[2]-128),d=l(i+(15&w)+t.i[6]-128)*(1+8e-4*t.i[7])),e=1,h<v?e=h/v:h>=v+g&&(e-=(h-v-g)*_),o=r,m&&(o*=e*e),I+=o,n=f(I)*c,o=d,y&&(o*=e*e),q+=o,n+=b(q)*M,x&&(n+=(2*Math.random()-1)*x),S[h]=80*n*e|0;return S},u=[e,n,o,r];this.init=function(e){t=e,i=e.endPattern-2,s=0,h=e.rowLen*e.patternLen*(i+1)*2,a=new Int32Array(h)},this.generate=function(){var o,n,r,l,f,c,m,b,M,y,x,v,g,p,_=new Int32Array(h),w=t.songData[s],P=t.rowLen,S=t.patternLen,I=0,q=0,E=!1,A=[];for(r=0;r<=i;++r)for(m=w.p[r],l=0;l<S;++l){var j=m?w.c[m-1].f[l]:0;j&&(w.i[j-1]=w.c[m-1].f[l+S]||0,j<15&&(A=[]));var Q=u[w.i[15]],L=w.i[16]/512,k=Math.pow(2,w.i[17]-9)/P,R=w.i[18],z=w.i[19],B=43.23529*w.i[20]*3.141592/44100,D=1-w.i[21]/255,G=1e-5*w.i[22],O=w.i[23]/32,$=w.i[24]/512,C=6.283184*Math.pow(2,w.i[25]-9)/P,N=w.i[26]/255,V=w.i[27]*P;for(x=(r*S+l)*P,f=0;f<4;++f)if(c=m?w.c[m-1].n[l+f*S]:0){A[c]||(A[c]=d(w,c,P));var T=A[c];for(n=0,o=2*x;n<T.length;n++,o+=2)_[o]+=T[n]}for(n=0;n<P;n++)b=2*(x+n),y=_[b],y||E?(v=B,R&&(v*=Q(k*b)*L+.5),v=1.5*Math.sin(v),I+=v*q,g=D*(y-q)-I,q+=v*g,y=3==z?q:1==z?g:I,G&&(y*=G,y=y<1?y>-1?e(.25*y):-1:1,y/=G),y*=O,E=y*y>1e-5,M=Math.sin(C*b)*$+.5,p=y*(1-M),y*=M):p=0,b>=V&&(p+=_[b-V+1]*N,y+=_[b-V]*N),_[b]=0|p,_[b+1]=0|y,a[b]+=0|p,a[b+1]+=0|y}return++s/8},this.createWave=function(){var t=2*h-8,i=t-36,s=new Uint8Array(44+2*h);s.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]);for(var e=0,o=44;e<h;++e){var n=a[e];n=n<-32767?-32767:n>32767?32767:n,s[o++]=255&n,s[o++]=n>>8&255}return s},this.getData=function(t,i){for(var s=2*Math.floor(44100*t),h=new Array(i),e=0;e<2*i;e+=1){var o=s+e;h[e]=t>0&&o<a.length?a[o]/32768:0}return h}},f=function(){this.u=function(){return(new Date).getTime()},this.e=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)},this.Na=function(t){var i=Math.floor(10*Math.random())+60;t&&(i*=3);var s=[],h=4,a=3,e=!1,o=0,n=0,r=15,l=42;t&&(l=25,r=1);for(var d=0;d<30;d++)for(var u=0;u<42;u++){var f=Math.random();if(u>l);else if(i>0&&d>=h&&u>=n&&f>.3||e){if(o<=a){s.push(1),e=!0,o++;continue}e=!1,o=0,i--,n=(u+5)%l,h=d+3}else!1,e=!1,o=0,a=Math.floor(Math.random()*r)+5;s.push(0)}var c=Math.floor(10*Math.random())+1;t&&(c*=3);for(var m=3,b=42,M=!1,y=0,u=41;u>=0;u--)for(var d=29;d>=0;d--){var f=Math.random(),x=u+42*d;if(c>0&&(u<b&&f>.4&&1===s[x]||M)){if(y<=m){s[x]=1,M=!0,y++;continue}M=!1,y=0,c--,b=u-(Math.floor(10*Math.random())+4)}else M=!1,y=0,m=Math.floor(5*Math.random())+2}for(var d=0;d<6;d++)for(var u=25;u<30;u++){var x=d+42*u;s[x]=0}return s},this.Oa=!1,this.Pa=!1,this.Aa=!1,this.N=!1,this.Qa=220,this.Ra&&(this.Qa=2200),this.$={},this.$.datos,this.$.Sa=20,this.$.Z=42,this.$.Ta=30,this.Ua=0,this.Va=[],this.A=840,this.Q=600,this.Wa=840/this.$.Sa,this.Xa=600/this.$.Sa,this.Ya=800,this.KEY={ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,X:88},this.Za=60,this.fps_interval=1e3/this.Za,this.$a=1/60,this._a=document.getElementById("canvas"),this.ctx=this._a.getContext("2d"),this._a.width=this.A,this._a.height=this.Q,this.ca=[],this.Ea=[],this.ab=[],this.bb=this.u(),this.Da=this.u(),this.wa=!1,this.cb=0,this.ma=250,this.db=this.ma,this.eb=this.u(),this.fb=0,this.gb=2500,this.hb=function(){return"ontouchstart"in document.documentElement},this.ib=function(t,i,s){switch(i){case this.KEY.LEFT:return t.preventDefault(),this.M.left=s,!1;case this.KEY.RIGHT:return t.preventDefault(),this.M.right=s,!1;case this.KEY.UP:return t.preventDefault(),this.M.jump=s,!1;case this.KEY.DOWN:return t.preventDefault(),this.M.down=s,!1;case this.KEY.ENTER:case this.KEY.X:return t.preventDefault(),this.M.accion=s,!1}},this.Y=function(t,i,s){return Math.max(i,Math.min(s,t))},this.ha=function(t,i,s,h,a,e,o,n){return!(t+s-1<a||a+o-1<t||i+h-1<e||e+n-1<i)},this.jb=function(t,i,s,h,a){return(t-s)*(t-s)+(i-h)*(i-h)<=a*a},this.da=function(t,i){var s=i/2,h=t%i;return h<s?h/s:1-(h-s)/s},this.kb=function(t,i){return this.$.datos[t+i*this.$.Z]},this.lb=function(t){return t*this.$.Z},this.mb=function(t){return Math.floor(t/this.$.Sa)},this._=function(t,i){return this.kb(this.mb(t),this.mb(i))},this.nb=function(t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},this.ea=function(t,i,s,h,a,e,o){if(t.fillStyle=e||"#ffffff",o)var n=this.nb(e);for(var r=i,l=s,d=0,u=0;u<h.length;u++){for(var f=h[u],c=0;c<f.length;c++)if(f[c])if(o){var m=0,b=0,M=0;b=Math.abs(r+c*a-this.M.O),M=Math.abs(l-this.M.P),m=Math.sqrt(b*b+M*M);var y=1-m/(2.5*this.Qa);if(m>2.5*this.Qa)continue;t.fillStyle="rgba("+n.r+","+n.g+","+n.b+","+y+")",t.fillRect(r+c*a,l,a,a)}else t.fillRect(r+c*a,l,1.1*a,1.1*a);d=Math.max(d,f.length*a),l+=a}r+=a+d},this.ob=function(t,i){this.Ua=0,this.Va=[],this.ca=[],this.ua=t,this.$.datos=this.Na(this.ua),this.ctx.globalAlpha=1;var s=1500;if(i&&(s=i),this.N=this.u()+s,this.M=new e(this,40,this.Q-100,1e3,3e4,this.db),this.ua)this.Ga=new Boss(this,this.A/1.5,240,800,3e4,1);else{for(this.fb++,this.qa={},this.qa.o=this.M.m,this.qa.m=this.M.m,this.sa(this.qa);this.ta(this.qa);)this.sa(this.qa);if(this.Ma={},Math.random()>.6)for(this.Ma.o=this.M.m/2,this.Ma.m=this.M.m/2,this.pb(this.Ma);this.qb(this.Ma);)this.pb(this.Ma);var h=1+2*this.fb,o=5+2*this.fb;this.Ua=this.e(h,o);for(var n=this.e(0,4),r=0;r<this.Ua;r++){for(var l=this.e(200,this.A-200),d=this.e(0,this.Q/2),u=new a(this,l,d,n);u.fa();)u.ga();this.Va.push(u)}}},this.ta=function(t){for(var i=t.x;i<t.x+t.o;i++)for(var s=t.y-5;s<t.y+t.m;s++)if(this._(i,s))return!0;return!1},this.sa=function(t){
t.x=this.e(this.M.o,this.A-this.M.o),t.y=this.e(0,this.Q/1.5)},this.qb=function(t){for(var i=t.x;i<t.x+t.o;i++)for(var s=t.y-5;s<t.y+t.m;s++)if(this._(i,s))return!0;return!1},this.pb=function(t){t.x=this.e(this.M.o,this.A-this.M.o),t.y=this.e(0,this.Q/1.5)},this.rb=function(){},this.sb=function(){this.Ba?game_over=[[1,1,,1,1,,1,1,1,1,,1,1,,1,,,,1,1,,1,,1,,1,1,,1,1,,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,1,1,,1,,1,,,,,1,1,,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,1,1,,1,,1,,1,1,,1,1,1,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,,1,,1,,1,,1,1,,1,1,,1,1,,,,,,,,],[,1,1,1,,,1,1,1,1,,1,1,1,1,,,,,,1,,1,,,1,1,,1,1,,,1,,,1,,1,,1]]:game_over=[[1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,1,1,,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1],[1,1,,,,1,1,,1,,1,1,1,1,,1,1,,,,,,1,1,,1,,1,1,,1,,1,1,,,,1,1,,1],[1,1,,,,1,1,1,1,,1,1,,1,,1,1,1,,,,,1,1,,1,,1,1,,1,,1,1,1,1,,1,1,1,1],[1,1,,1,,1,1,,1,,1,1,,1,,1,1,,,,,,1,1,,1,,,1,,1,,1,1,,,,1,1,1],[1,1,1,1,,1,1,,1,,1,1,,1,,1,1,1,1,,,,1,1,1,1,,,,1,,,1,1,1,1,,1,1,,1]],play_again=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,1,1,1,1,,1,1,,,,1,1,1,1,,1,,,1,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,1,1,,,1,,1],[1,,1,1,,1,,1,1,,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,,,1,1,,1,,1,1,,1,1,,,1,,1],[1,,1,1,1,1,,1,1,,,,1,1,1,1,,,1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,1,1,1,,1,,1],[1,,1,1,,,,1,1,,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,1,1,,1,1,,1,1,,1],[1,,1,1,,,,1,1,1,1,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,1,1,,1,1,,1,,1,1,,1,1,,,1,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],this.ea(this.ctx,this.A/2-330,290,game_over,16,"rgba(255,255,255,1)"),this.ea(this.ctx,this.A/2-130,400,play_again,6,"rgba(255,255,255,1)"),document.getElementById("play_again").style.display="block"},this.pa=function(i){var s=this;this.ca.push(new t(this.A/2,this.Q/2,!0,!0,i)),window.setTimeout(function(t){s.Aa=!0,s.Ba=i},2e3)},this.oa=function(t){if(this.db=this.M.S,this.tb(),this.wa&&this.M.L<this.u()){this.wa=!1,this.ctx.globalAlpha=1,this.cb++;var i=!1;this.cb>5&&Math.random()>.7&&(i=!0),this.ob(i)}if(this.M.oa(t),this.ua)this.Ga.oa(t);else for(var s=0;s<this.Va.length;s++)this.Va[s].update(t)},this.tb=function(){this.eb<this.u()&&(this.Za=60,this.fps_interval=1e3/this.Za)},this.ub=function(t,i,s){if(t.clearRect(0,0,this.A,this.Q),this.Aa)return this.Qa=this.A,this.vb(t,s),this.wb(t,s),this.sb(t),void this.xb(t);this.xb(t),this.yb(t,s),this.vb(t,s),this.ua||(this.zb(t),this.Ab(t)),this.Bb(t,s,!0),this.Cb(t),this.Db(t),this.ua&&this.Eb(t),this.wb(t,s)},this.Fb=function(){if(this.Da>this.u()){var t=4;this.bb>this.u()&&(t*=10),this.ctx.save(),this.dx_shacke||this.dy_shacke?(this.bb>this.u()&&(this.dx_shacke=(Math.random()-.5)*t,this.dy_shacke=(Math.random()-.5)*t),this.Ga?this.Ga.Gb>this.u()&&(this.dx_shacke=(Math.random()-.5)*t*2,this.dy_shacke=(Math.random()-.5)*t*2):(this.dy_shacke=-.9*this.dy_shacke,this.dx_shacke=-.9*this.dx_shacke)):(this.dx_shacke=(Math.random()-.5)*t,this.dy_shacke=(Math.random()-.5)*t),this.ctx.translate(this.dx_shacke,this.dy_shacke)}else this.dx_shacke=0,this.dy_shacke=0},this.Hb=function(){this.ctx.restore()},this.Bb=function(t,i,s){var h,a,e=0;this.M.P-this.Qa>0&&(e=Math.floor((this.M.P-this.Qa)/this.$.Sa));var o=Math.floor(this.Q/this.$.Sa);this.M.P+this.Qa<this.Q&&(o=Math.floor((this.M.P+this.Qa)/this.$.Sa));var n=0;this.M.O-this.Qa>0&&(n=Math.floor((this.M.O-this.Qa)/this.$.Sa));var r=Math.floor(this.A/this.$.Sa);this.M.O+this.Qa<this.A&&(r=Math.floor((this.M.O+this.Qa)/this.$.Sa));var l=0,d=0,u=0;for(a=e;a<=o;a++)for(h=n;h<=r;h++)this.kb(h,a)&&(d=Math.abs(h-Math.floor(this.M.O/this.$.Sa)),u=Math.abs(a-Math.floor(this.M.P/this.$.Sa)),l=Math.sqrt(d*d+u*u),opacidad=1/l*2.5,s||(opacidad/=2),t.fillStyle="rgba(250,250,250,"+opacidad+")",t.fillRect(h*this.$.Sa,a*this.$.Sa,this.$.Sa,this.$.Sa))},this.zb=function(t){radius=this.qa.o;var i=this.qa.x+this.qa.o/2,s=this.qa.y+this.qa.m/2,h=0,a=0;if(h=Math.abs(i-this.M.O),a=Math.abs(s-this.M.P),!(Math.sqrt(h*h+a*a)>this.Qa)){var e=t.createRadialGradient(i,s,0,i,s,radius);t.fillStyle=e;for(var o=-2;o<2;o++){var n=i+(.5-Math.random())*o*15,r=s+(.5-Math.random())*o*15,l=this.e(110,255);t.beginPath(),t.arc(n,r,radius,0,2*Math.PI,!1),e.addColorStop(0,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0)"),e.addColorStop(.6,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0)"),e.addColorStop(.8,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0.2)"),e.addColorStop(1,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0.3)"),t.fill()}t.beginPath(),t.arc(i,s,1.2*radius,0,2*Math.PI,!1);var e=t.createRadialGradient(i,s,0,i,s,1.2*radius);e.addColorStop(0,"rgba(209,127,140, 0.2)"),e.addColorStop(.8,"rgba(209,127,140, 0.1)"),e.addColorStop(1,"rgba(209,127,140, 0)"),t.fillStyle=e,t.fill()}},this.Ab=function(t){var i=0,s=0,h=0,a=this.Ma.x+this.Ma.o/2,e=this.Ma.y+this.Ma.m/2;s=Math.abs(a-this.M.O),h=Math.abs(e-this.M.P),i=Math.sqrt(s*s+h*h);var o=this.M.na-this.u();if(!(o<0))return o/=1e3,void(o<.5?this.Ma={}:(t.strokeStyle="#ffffff",t.lineWidth=20*o+10,lejos_quitar=50*(1-o),t.strokeRect(this.Ma.x-lejos_quitar,this.Ma.y-lejos_quitar,this.Ma.m+2*lejos_quitar,this.Ma.m+2*lejos_quitar)));if(o=1,!(i>this.Qa)){var n=this.da(this.counter,80),r=this.da(this.counter,60),l=5*n+2,d=10*r;t.fillStyle="rgba(255,110,110,"+((1-n)/2+.5*o/2)+")";var u=this.Ma.x,f=this.Ma.y+this.Ma.m/3;t.fillRect(u,f,this.Ma.o,this.Ma.m/3);var c=this.Ma.x+this.Ma.m/3,m=this.Ma.y;t.fillRect(c,m,this.Ma.o/3,this.Ma.m),t.strokeStyle="rgba(255,255,155,"+(n/7+.1*o/2)+")",t.lineWidth=8,t.strokeRect(this.Ma.x-l,this.Ma.y-l,this.Ma.m+2*l,this.Ma.m+2*l),t.strokeStyle="rgba(133,200,133,"+(n/7+.1*o/2)+")",t.lineWidth=15,t.strokeRect(this.Ma.x-d,this.Ma.y-d,this.Ma.m+2*d,this.Ma.m+2*d)}},this.Ib=0,this.Eb=function(i){if(this.Ga.Gb>this.u()){var s=this.Ga.Gb-this.u(),h=Math.floor(s/this.gb*40);h=40-h;this.Ib=h%20,this.Ib>10&&(this.Ib=20-this.Ib);var a=9*this.Ib,e=this.A/40*2,o=this.A/40*h,n=i.createLinearGradient(0,this.Q-100,0,this.Q);n.addColorStop(0,"rgba(186,186,186,0.3)"),n.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=n;var r=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),u=o;if(i.fillRect(this.Ga.x-o+l,this.Q-a+15+r,e,a+r),o=this.A/40*(h-2),alto_ola_n=.7*a+r,i.fillRect(this.Ga.x-o+r,this.Q-alto_ola_n+15+l,e,alto_ola_n+l),o=this.A/40*(h-4),alto_ola_n=.4*a+l,i.fillRect(this.Ga.x-o+10*(Math.random()-.5),this.Q-alto_ola_n+5,e,alto_ola_n),o=this.A/40*(h+2),alto_ola_n=.7*a+d,i.fillRect(this.Ga.x-o+r,this.Q-alto_ola_n+15,e,alto_ola_n),o=this.A/40*(h+4),alto_ola_n=.4*a+l,i.fillRect(this.Ga.x-o+d,this.Q-alto_ola_n+15,e,alto_ola_n),x_empieza_terremoto=this.Ga.x-u+l,x_final_terremoto=this.Ga.x-o+d,this.M.O<x_empieza_terremoto&&this.M.O>x_final_terremoto&&this.M.P>this.Q-100){this.M.S=this.M.S-5,this.M.T();for(var f=0;f<10;f++)this.ca.push(new t(this.M.O,this.M.P,!0));this.M.ba=this.u()+2200}}},this.wb=function(t,i){this.M.Fa(i,t,this.counter)},this.yb=function(t,i){for(var s=0,h=0,a=0;a<this.Va.length;a++)s=Math.abs(this.Va[a].x-this.M.O),h=Math.abs(this.Va[a].y-this.M.P),distancia_jugador=Math.sqrt(s*s+h*h),distancia_jugador<this.Qa&&this.Va[a].aa(i,t,this.counter)},this.vb=function(t,i){this.ua&&this.Ga.Jb(i,t,this.counter)},this.xb=function(t){if(0!==this.ca.length)for(var i=0;i<this.ca.length;i++){var s=this.ca[i],h=s.a;if(0===h.length)return void this.ca.splice(i,1);for(var a=h.slice(),e=0;e<h.length;e++){var o=h[e],n=0,r=0,l=0;if(r=Math.abs(o.x-this.M.O),l=Math.abs(o.y-this.M.P),n=Math.sqrt(r*r+l*l),this.Aa&&o.final)a.splice(e,1);else if(!(n>300)){var d=(1-n/150)*o.opacidad,u=!1;o.xv>0?o.max_x-o.x<0&&(u=!0):o.x-o.max_x<0&&(u=!0),o.yv>0?o.max_y-o.y<0&&(u=!0):o.y-o.max_y<0&&(u=!0),u||(d*=20),t.beginPath(),t.arc(o.x,o.y,o.size,2*Math.PI,0,!1),t.fillStyle="rgba("+o.r+","+o.g+","+o.b+","+d+")",t.fill(),o.size<=2||u||(o.x+=o.xv,o.y+=o.yv,o.size-=.1)}}s.a=a}},this.Cb=function(i){for(var s=0;s<this.Ea.length;s++){var h=this.Ea[s],a=8*h.size,e=0,o=0,n=0;if(o=Math.abs(h.x-this.M.O),n=Math.abs(h.y-this.M.P),(e=Math.sqrt(o*o+n*n))<1.2*this.Qa){if(this.ua){if(this.ha(this.Ga.x,this.Ga.y,this.Ga.o,this.Ga.m,h.x-a/2,h.y-a/2,a,a)){var r=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),u=45*Math.random(),f=45*Math.random(),c=45*Math.random(),m=Math.floor(155*Math.random())+100;i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(h.x+r,h.y+l,u,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(h.x+l,h.y+d,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(h.x+d,h.y+r,c,2*Math.PI,0,!1),i.closePath(),i.fill(),this.Ea.splice(s,1),this.Ga.Kb=this.u()+400;continue}}else for(var b=0;b<this.Ua;b++)if(!this.Va[b].muerto&&this.u()>this.Va[b].muriendo&&this.ha(this.Va[b].x,this.Va[b].y,this.Va[b].o,this.Va[b].m,h.x-a/2,h.y-a/2,a,a)){this.bb=this.u()+200;var r=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),u=45*Math.random(),f=45*Math.random(),c=45*Math.random(),m=Math.floor(155*Math.random())+100;i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(h.x+r,h.y+l,u,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(h.x+l,h.y+d,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(h.x+d,h.y+r,c,2*Math.PI,0,!1),i.closePath(),i.fill();var M=this.Va[b].x+this.Va[b].o/2,y=this.Va[b].y+this.Va[b].m/2;this.ca.push(new t(M,y,!1)),this.Ea.splice(s,1),this.Va[b].muriendo=this.u()+400,this.Va[b].muerto=!0}else;if(this._(h.x,h.y)||this._(h.x-5,h.y)||this._(h.x+5,h.y)||this._(h.x-10,h.y)||this._(h.x+10,h.y)||this._(h.x-15,h.y)||this._(h.x+15,h.y)){var r=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),u=45*Math.random(),f=45*Math.random(),c=45*Math.random(),m=Math.floor(255*Math.random());i.beginPath(),i.fillStyle="rgba(255,"+m+",0,0.1)",i.arc(h.x+r,h.y+l,u,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",0.1)",i.arc(h.x+l,h.y+d,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",0.1)",i.arc(h.x+d,h.y+r,c,2*Math.PI,0,!1),i.closePath(),i.fill(),this.Ea.splice(s,1);continue}1===h.size&&(i.beginPath(),i.fillStyle="rgba(255,255,255,0.4)",i.arc(h.x,h.y,5*a,2*Math.PI,0,!1),i.closePath(),i.fill());var x=1-e/(1.2*this.Qa),v=1.14*a;i.beginPath();var g=1;h.xv<0&&(g=-1),i.fillStyle="rgba(255,255,0,"+x/24+")",i.arc(h.x,h.y,.8*v,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,20,"+x/20+")",i.arc(h.x+2*g,h.y,.85*v,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,40,"+x/16+")",i.arc(h.x+4*g,h.y,.9*v,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,60,"+x/12+")",i.arc(h.x+6*g,h.y,.92*v,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,80,"+x/8+")",i.arc(h.x+8*g,h.y,.94*v,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,100,"+x/4+")",i.arc(h.x+10*g,h.y,.96*v,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,120,"+x+")",i.arc(h.x+12*g,h.y,.98*v,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(250,250,250,"+x/2+")",i.arc(h.x+12*g,h.y,v,2*Math.PI,0,!1),i.arc(h.x+14*g,h.y,v,2*Math.PI,0,!1),i.closePath(),i.fill()}h.x>this.A||h.x<0?this.Ea.splice(s,1):(h.x+=h.xv,h.y+=h.yv,h.size-=.004)}},this.Db=function(i){for(var s=0;s<this.ab.length;s++){var h=this.ab[s],a=100*h.size;h.xv<0&&-1;var e=!0;if(h.Lb>this.u()){var o=10*(Math.random()-.5),n=10*(Math.random()-.5),r=(Math.random(),80*Math.random());if(this.jb(this.M.O,this.M.P,h.x,h.y,r)&&!h.Mb){this.M.S-=5,this.M.T();for(var s=0;s<10;s++)this.ca.push(new t(this.M.O,this.M.P,!0));this.M.ba=this.u()+2e3}var l=Math.floor(255*Math.random());i.beginPath(),i.fillStyle="rgba(0,0,"+l+",0,0.1)",i.arc(h.x+o+a/2,h.y+n+a/2,r,2*Math.PI,0,!1),i.closePath(),i.fill(),e=!1}else h.Nb&&(h.Mb=!0);if(h.Mb)this.ab.splice(s,1);else{(this._(h.x,h.y)||this._(h.x-5,h.y)||this._(h.x-10,h.y)||this._(h.x,h.y-5)||this._(h.x,h.y-10)||this._(h.x,h.y+5)||this._(h.x,h.y+10)||this._(h.x,h.y+20)||this._(h.x,h.y+30)||this._(h.x,h.y+40)||this._(h.x,h.y+50)||this.ha(this.M.x,this.M.y,this.M.o,this.M.m,h.x-a/2,h.y-a/2,a,a))&&!h.Nb&&(h.Lb=this.u()+500,h.Nb=!0);var d=[[,,,,,,,],[,,,,,,,],[,,,1,1,,,],[,1,1,1,1,,,],[1,1,1,1,1,,,],[1,1,1,1,1,1,1,1],[,,,,,,,],[,,,,,,,]];i.beginPath(),i.fillStyle="rgba(250,0,0,0.01)",i.arc(h.x,h.y,a,2*Math.PI,0,!1),i.closePath(),i.fill();var u=h.x+8*d[0].length/2,f=h.y+8*d[0].length/2;h.x,d[0].length,h.y,d[0].length;i.save(),i.translate(u,f),i.rotate(h.angulo*Math.PI/180);var c=-8*d[0].length/2;i.arc(0,0,70,0,2*Math.PI,!1);var m=i.createRadialGradient(0,0,70,0,0,0);m.addColorStop(0,"rgba(151, 110, 143, 0)"),m.addColorStop(1,"rgba(151, 110, 143, 0.6)"),i.fillStyle=m,i.fill();var b="rgba(251, 110, 143, 0.7)";if(!e){b="rgba(251, 110, 143, "+(h.Lb-this.u())/2500+")"}this.ea(i,c,c,d,8,b),i.restore(),h.x>this.A||h.x<0?this.ab.splice(s,1):e&&(h.x+=h.xv,h.y+=h.yv,h.angulo+=h.xv)}}},this.Ob=function(t){var i=[[1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,,,1,1,1,1,,1,1,,,1,,1,1,1,,,,,1,1,1,1,,1,1,,,1,,1,1,1,1,,,1,1,1,1,,,1,1,,,1,1],[1,1,,,,1,1,,1,,1,1,,,,,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,,1,,,,1,1,,1,,1,1,,,1,,1,1,,,,,1,1,,1,,,,1,1,1,1,,],[1,1,,,,1,1,,1,,1,1,1,1,,,1,1,,,,,1,1,,1,,1,1,1,,1,,1,1,,1,,,,1,1,,1,,1,1,1,,1,,1,1,,1,1,,1,1,1,,,,,,1,1,,,],[1,1,,,,1,1,,1,,,,1,1,,,1,1,,,,,1,1,1,1,,1,1,,1,1,,1,1,,1,,,,1,1,1,1,,1,1,,1,1,,1,1,,,1,,1,1,,1,,,,,1,1,,,],[1,1,1,1,,1,1,1,1,,1,1,1,1,,,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,1,1,1,,1,1,,,1,,,,1,1,,,]],s=this.A/2-8*i[0].length/2,h=[[1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,,,1,1,,1,1,,,1,,1,1,1,1,,,,,,,,,],[1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,,,,1,1,,,1,,1,1,,,,,,,,,,,],[1,1,,,,1,1,,1,,1,1,1,1,,1,1,,1,,1,1,,1,1,1,,1,,1,1,,1,1,,,,,,,,],[1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,1,1,,1,1,,1,1,,1,1,,,1,,,,,,,,],[1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,1,,,1,1,,1,1,,,1,,1,1,1,1,1,,1,,1,,1,,]],a=this.A/2-4*h[0].length/2;this.ea(t,s,180,i,8);var e=this.da(this.counter,60),o="rgba(255,255,255,"+e+")";if(this.ea(t,a,260,h,4,o),!this.hb()){var n=[[1,1,1,1,,1,1,1,1,,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,,1,1,1,1,,,1,1,1,1,,1,1,1,1,,,1,1,,,,1,,1,1,1,1,,1,1,,1,,1,1,1,1,,,,,,,1,,,,1,,,1,1,1,1,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1,,1,1,1,1],[1,1,,1,,1,1,,1,,,1,1,,1,,,1,1,,1,,1,1,,1,,1,,1,1,,,,,,1,1,,,1,1,,1,,,1,1,1,,1,1,,1,1,,1,,1,1,,1,,1,1,,,,,,,,,,1,,1,,,,,1,1,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,,1,,1,1,1,1,,,1,1,1,1,,,1,1,,1,,1,1,,1,,1,,1,1,1,1,,,,1,1,,,1,1,,1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,1,1,,,,1,1,,,,,1,,,,,,1,1,,,1,1,,1,,,1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,1,1,,1,1,,1,,,1,1,,1,,,1,1,,1,,,1,1,1,1,,,,,,1,,,,1,1,,,1,1,,1,,,1,1,,,,1,,1,1,,1,,,1,,1,,1,1,,,,,,,,,,1,,1,,,,,1,1,,,1,1,,1,,,,,,1,,1,1,,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,,1,,1,1,,,1,,1,1,,,1,,1,1,1,1,,,,1,1,,,,1,1,1,1,,,,1,1,,,1,1,1,1,,,1,1,,,,1,,1,1,1,1,,,,1,,,1,1,1,1,,,,,,,1,,,,1,,,,1,1,,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1,,,1,1]],r=this.A/2-2.5*n[0].length/2;this.ea(t,r,550,n,2.5)}},this.Pb=function(t,i){i.fillRect((this.A-200)/2,this.Q/2-50,200*t,80),i.strokeStyle="#ffffff",i.lineWidth=10,i.strokeRect((this.A-200)/2,this.Q/2-50,195,80)},this.Qb=0,this.Rb=this.u()+5e3,this.Sb=this.u(),this.Tb=!1,this.Ub=function(t,i){if(this.Sb<this.u()&&this.Tb)return this.ob(!1,1800),this.rb(),window.audio.play(),void(this.Oa=!0);this.Tb||(this.Vb=this.A/2-200+2*this.counter),this.M=new e(this,this.Vb,this.Q/2+100,1e3,3e4,this.db),this.qa={},this.qa.o=this.M.m,this.qa.m=this.M.m,this.qa.x=this.A/2+150,this.qa.y=this.Q/2+100,this.M.right=!0,this.M.x>=this.qa.x+10&&!this.Tb&&(this.Tb=!0,this.Sb=this.u()+3e3),this.M.x>=this.qa.x+10&&(this.M.L=this.u()+3e3),this.zb(t),this.M.Ia(),this.Qb=this.M.Fa(i,t,this.counter,this.Qb)},this.Wb=function(){document.getElementById("controles_mobile").style.display="none",document.getElementById("canvas_mobile").style.display="none";var t=window.innerWidth,i=window.innerHeight;canvas_mobile_gira=document.getElementById("canvas_mobile_gira"),canvas_mobile_gira.style.display="block",ctx_mobile_gira=canvas_mobile_gira.getContext("2d"),canvas_mobile_gira.width=t,canvas_mobile_gira.height=i;var s=[[,,,1,1,1,1,,,,],[,,1,,,,,1,,,],[,1,,,,,,,1,,1],[,1,,,,,,,,1,1],[1,1,1,,,,,,1,1,1],[,,,,,,,,,,],[,,,,,,,,,,],[1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,1,1],[1,1,1,1,1,1,1,1,1,1,1]],h=t/2-12*s[0].length/2;this.ea(ctx_mobile_gira,h,200,s,12)},this.Xb=function(){document.getElementById("canvas_mobile_gira").style.display="none",i=document.getElementById("canvas_mobile"),s=i.getContext("2d"),i.style.display="block";var t=window.innerWidth;i.width=this.A,i.height=100;var h=[[,1,,],[,1,1],[1,1,1,1],[,1,1],[,1,,]],a=[[,,1],[,1,1],[1,1,1,1],[,1,1],[,,1]],e=[[,,1,,],[,1,1,1],[1,1,1,1,1],[,1,1,1],[,1,1,1]],o=[[1,,1,,1],[,1,1,1],[1,1,1,1,1],[,1,1,1],[1,,1,,1]];this.ea(s,20,20,a,12),this.ea(s,120,20,h,12),this.ea(s,t-180,20,e,12),this.ea(s,t-80,20,o,12),document.getElementById("controles_mobile").style.display="block";var n=this;document.getElementById("der_mobile").addEventListener("touchstart",function(t){n.M.right=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("izq_mobile").addEventListener("touchstart",function(t){n.M.left=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("arr_mobile").addEventListener("touchstart",function(t){n.M.jump=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("accion_mobile").addEventListener("touchstart",function(t){n.M.accion=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("lost").addEventListener("touchmove",function(t){var i=document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY);t.preventDefault(),"der_mobile"===i.id?(n.M.right=!0,document.getElementById("der_mobile").className="tecla_mobile pulsada"):(n.M.right=!1,document.getElementById("der_mobile").className="tecla_mobile"),"izq_mobile"===i.id?(n.M.left=!0,document.getElementById("izq_mobile").className="tecla_mobile pulsada"):(n.M.left=!1,document.getElementById("izq_mobile").className="tecla_mobile")}),document.getElementById("der_mobile").addEventListener("touchend",function(t){n.M.right=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("izq_mobile").addEventListener("touchend",function(t){n.M.left=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("arr_mobile").addEventListener("touchend",function(t){n.M.jump=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("accion_mobile").addEventListener("touchend",function(t){n.M.accion=!1,this.className="tecla_mobile",t.preventDefault()})};var i,s,h=this;this.Yb=function(){this.hb()&&(window.innerHeight>window.innerWidth?(h.Wb(),h.Pa=!0):(h.Xb(),h.Pa=!1),window.addEventListener("orientationchange",function(t){window.setTimeout(function(){window.innerHeight>window.innerWidth?(h.Wb(),juego.Pa=!0):(h.Xb(),h.Pa=!1)},300)}))}};!function(){function t(){if(s.Pa)return void requestAnimationFrame(t,canvas);if(!s.Oa)return s.counter++,s.ctx.clearRect(0,0,s.A,s.Q),s.Ob(s.ctx),s.Ub(s.ctx,a),void requestAnimationFrame(t,canvas);for(h=s.u(),a+=Math.min(1,(h-e)/1e3);a>s.$a;)a-=s.$a,s.Zb||s.oa(s.$a);s.Fb(),s.ub(s.ctx,s.counter,a),s.Hb(),e=h,s.counter++,requestAnimationFrame(t,canvas)}function i(){document.hidden?s.Pa=!0:(s.Pa=!1,s.Yb())}var s=new f;s.Yb(),s.counter=0;var h,a=0,e=s.u();s.u();document.addEventListener("keydown",function(t){return s.ib(t,t.keyCode,!0)},!1),document.addEventListener("keyup",function(t){return s.ib(t,t.keyCode,!1)},!1),document.addEventListener("visibilitychange",i,!1);var n=new u,c=!1;n.init(o);var m=new u;m.init(r);var b=!1;window.golpe_audio;var M=new u;M.init(d);var y=!1;window.disparo_audio,window.disparo_audio2;var x=new u;x.init(l);var v=!1;window.levelup_audio2;var g=!1;t();var p=setInterval(function(){if(g)return s.Yb(),void clearInterval(p);if(!c){var t=n.generate();s.music_percent=t,t>=1&&(c=!0)}if(b||m.generate()>=1&&(b=!0),v||x.generate()>=1&&(v=!0),y||M.generate()>=1&&(y=!0),g=c&&y&&b){var i=n.createWave();window.audio=document.createElement("audio"),window.audio.src=URL.createObjectURL(new Blob([i],{type:"audio/wav"})),window.audio.loop=!0,window.audio.volume=.3;var h=m.createWave();window.golpe_audio=document.createElement("audio"),window.golpe_audio.src=URL.createObjectURL(new Blob([h],{type:"audio/wav"})),window.golpe_audio.volume=.5;var a=x.createWave();window.levelup_audio2=document.createElement("audio"),window.levelup_audio2.src=URL.createObjectURL(new Blob([a],{type:"audio/wav"})),window.levelup_audio2.volume=1;var e=M.createWave();window.disparo_audio2=document.createElement("audio"),window.disparo_audio=document.createElement("audio"),window.disparo_audio.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),window.disparo_audio.volume=.6,window.disparo_audio2.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),window.disparo_audio2.volume=.3}},50)}();