var t=function(t,h,s,a,e){this.a=[],this.d=25,s&&(this.d=this.d/100),a&&(this.d=this.d/2);for(var r=0;r<this.d;r++)this.a.push(new i(t,h,s,a,e))},i=function(t,i,h,s,a){this.e=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)},this.h=3,this.j=15,this.k=2,this.l=15,s&&(this.h=3,this.j=30,this.k=200,this.l=1e3),this.r=this.e(0,155),this.g="0",this.b=this.e(0,55),h&&(this.r=this.e(0,255),this.g="0",this.b="0"),s&&(this.r=this.e(0,255),this.g=this.e(0,55),this.b=this.e(0,55),a&&(this.r=this.e(0,255),this.g=this.e(0,255),this.b=this.e(0,255))),this.x=t,this.y=i,this.xv=this.e(this.h,this.j),this.yv=this.e(this.h/2,this.j/2),this.xv>0?this.max_x=t+100*Math.random():this.max_x=t-100*Math.random(),this.yv>0?this.max_y=i+100*Math.random():this.max_y=i-100*Math.random(),this.opacidad=Math.random(),this.final=s,this.size=this.e(this.k,this.l)},h=function(t,i,h,s,a,e,r){this.x=t,this.y=i+r.m/2;var o=1,n=this.x+r.o+15;a||(o=-1,n=this.x-r.o+15),this.x=n,this.size=1,this.xv=35*o+h,this.yv=7*(Math.random()-.5)+s},s=function(t,i,h,s,a,e){this.x=t-e.o/4;var r=Math.floor(e.m/3);this.y=i+e.m/2+a.e(-r,r),this.size=1;this.q=90,this.xv=-1*(.5+Math.random())*5+h,this.yv=7*(Math.random()-.5)+s},a=function(i,h,s,a,e,r,o){this.s=0,this.q=0,this.t=4,this.x=h,this.y=s,this.m=12*this.t,this.o=6*this.t+5,this.dx=0,this.dy=0,this.u=7e12,this.v=500,this.shoot_back=1500,this.w=3e4,this.last_left=!1,this.z=800,this.A=i.B(),this.C=140,this.D=500,this.F=i.G+this.o,this.H=-this.o,this.I=0,this.J=Math.random()>.5,this.K=i.B(),this.L=i.B(),this.M=a,this.N=[],this.O=[],this.r=e,this.g=r,this.b=o,this.N[0]=[[,,,1,1,1],[,,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,,],[,,1,1,,,],[1,,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,,,,,,]],this.O[0]=[[,,,1,1,1],[,,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,,],[,,1,1,,,],[1,,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,,,,,,]];for(var n=0;n<this.O[0].length;n++)this.O[0][n].reverse();this.N[1]=[[1,,,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,,,],[,,1,1,,,],[1,,1,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,,]],this.O[1]=[[1,,,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,,,],[,,1,1,,,],[1,,1,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,,]];for(var n=0;n<this.O[1].length;n++)this.O[1][n].reverse();this.N[2]=[[1,,,,1,1],[1,1,,,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,1,1],[1,,1,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,1,,],[,,,,,,]],this.O[2]=[[1,,,,1,1],[1,1,,,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,1,1],[1,,1,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,1,,],[,,,,,,]];for(var n=0;n<this.O[2].length;n++)this.O[2][n].reverse();this.N[3]=[[1,1,1,,,,],[1,1,1,1,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,,1,1,,],[,1,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]],this.O[3]=[[1,1,1,,,,],[1,1,1,1,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,,1,1,,],[,1,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]];for(var n=0;n<this.O[3].length;n++)this.O[3][n].reverse();this.N[4]=[[,1,,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,,,],[1,1,,1,1,1],[1,,,1,1,1],[,,,1,1,1],[,,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]],this.O[4]=[[,1,,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,,,],[1,1,,1,1,1],[1,,,1,1,1],[,,,1,1,1],[,,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]];for(var n=0;n<this.O[4].length;n++)this.O[4][n].reverse();this.P=this.N[this.M],this.Q=this.O[this.M],this.update=function(t){if(!(i.S.R>i.B()||i.T>i.B())){var h=0,s=0;if(h=Math.abs(this.x-i.S.U),s=Math.abs(this.y-i.S.V),!(Math.sqrt(h*h+s*s)>i.W/2)){s<60&&h<i.G/2?(this.rapido=!0,i.S.x<this.x?this.J=!0:this.J=!1):this.rapido=!1,this.U=this.x+this.o/2,this.V=this.y+this.m/2,this.Y=this.dx<0,this.Z=this.dx>0;var a=this.u*(this.falling?.2:1),e=this.v;this.ddx=0,this.ddy=this.z;var r=!1;if(!this.$()||this.muerto||i._||(r=!0,i.S.aa--,i.S.ba()),!this.muerto&&!r){var o=Math.random()>.9;if(this.ca()&&!this.jumping){var n=Math.random(),l=n<.1;n>.8||i._?this.jump=!0:this.da()&&o?this.jump=!0:l?(this.K=i.B()+1e3,this.jump=!1):this.jump=!1}else this.ea()&&o?this.jump=!0:this.da()&&o?this.jump=!0:this.jump=!1;this.J&&i.B()>this.K?(this.ddx=this.ddx-e,this.last_left=!0):this.Y&&(this.ddx=this.ddx+a),!this.J&&i.B()>this.K?(this.ddx=this.ddx+e,this.last_left=!1):this.Z&&(this.ddx=this.ddx-a),this.jump&&!this.jumping&&this.A<i.B()&&(this.ddy=this.ddy-this.w,this.jumping=!0,this.falling=!0,this.A=i.B()+1e3),this.accion&&(i.counter,this.I)}this.x=this.x+t*this.dx,this.y=this.y+t*this.dy;var d=this.C;this.ddx;this.rapido||this.jumping||(d=.5*this.C,.5*this.ddx),this.muerto||r?(this.dx=0,this.dy=i.fa(this.dy+t*this.ddy,-this.D,this.D)):(this.dx=i.fa(this.dx+t*this.ddx,-d,d),this.dy=i.fa(this.dy+t*this.ddy,-this.D,this.D)),(this.Y&&this.dx>0||this.Z&&this.dx<0)&&(this.dx=0);for(var f=(this.y+this.m)%i.ha.ga,c=this.y%i.ha.ga,u=!1,m=this.x+5;m<=this.x+this.o-5;m++)i.ia(m,this.y-2)&&(u=!0);for(var b=!1,y=this.x+5;y<=this.x+this.o-5;y++)i.ia(y,this.y+this.m)&&(b=!0);for(var v=!1,x=this.y+5;x<=this.y+this.m-5;x++)i.ia(this.x-6,x)&&(v=!0);for(var g=!1,p=this.y+5;p<=this.y+this.m-5;p++)i.ia(this.x+this.o+2,p)&&(g=!0);this.dy>=0?(this.y+this.m>i.W&&(this.y=i.W-this.m,this.dy=0,this.jumping=!1,this.falling=!1),b&&(this.dy=0,this.jumping=!1,this.falling=!1,f&&(this.y=20*Math.floor((this.y+this.m)/20)-this.m))):this.dy<0&&u&&c&&(this.dy=0),this.dx>0?this.x+this.o>=this.F?(this.x=10,this.dx=-this.dx):g&&(this.dx=0,this.J=!this.J):this.dx<0&&(this.x<=this.H?(this.x=i.G-this.o,this.dx=-this.dx):v&&(this.dx=0,this.J=!this.J))}}},this.ja=function(h,s,a){var e=this.x+this.dx*h,r=this.y+this.dy*h;i.S.x,i.S.dx,i.S.y,i.S.dy;if(this.$()&&!this.muerto){i.S.ka=i.B()+2e3;var o=this.x+this.o/2,n=this.y+this.m/2;i.la.push(new t(o,n,!0))}var l=[[,,1,,,,1,1,,,],[,1,1,1,1,1,1,1,1,1,1],[,,1,1,1,1,1,1,1,1,1],[,,,1,,,,,,,],[,,,1,,,,,,,],[,,1,1,,,,,,,]],d=[[,,,1,1,,,,1,,],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,,],[,,,,,,,1,,,],[,,,,,,,1,,,],[,,,,,,,1,1,,]],f=[];f[0]=[[,1,,,1,,]],f[1]=[[,,1,,1,,]],this.muerto?this.L>i.B()?this.last_left?this.q=this.q+1:this.q=this.q-1:this.last_left?this.q=90:this.q=-90:this.jumping?(this.s=1,this.q=0):Math.abs(this.dx)>0?i.ma(a,40)<.5?(this.s=0,this.q=-2):(this.s=1,this.q=2):this.q=0,s.save(),s.translate(e,r),s.rotate(this.q*Math.PI/180);var c=this.P,u=0,m=0;this.last_left&&(c=this.Q,d,this.o);var b=0,y=0,v=0;y=Math.abs(this.x-i.S.U),v=Math.abs(this.y-i.S.V),b=Math.sqrt(y*y+v*v);var x=1-b/250,g="rgba("+this.r+", "+this.g+", "+this.b+", "+x+")";if(this.muerto)if(this.L>i.B()){var p=this.L-i.B();p=(410-p)/3,g="rgba(255, 255, 255, 1)";var _=10*(Math.random()-.5),M=10*(Math.random()-.5),S=10*(Math.random()-.5),w=Math.random()*p+this.m/2,B=Math.random()*p+this.m/2,P=Math.random()*p+this.m/2,I=Math.floor(155*Math.random())+100;s.beginPath(),s.fillStyle="rgba(155,155,"+I+",0.1)",s.arc(_,M,w,2*Math.PI,0,!1),s.closePath(),s.fill(),s.beginPath(),s.fillStyle="rgba(155,155,"+I+",0.2)",s.arc(M,S,B,2*Math.PI,0,!1),s.closePath(),s.fill(),s.beginPath(),s.fillStyle="rgba(155,155,"+I+",0.3)",s.arc(S,_,P,2*Math.PI,0,!1),s.closePath(),s.fill(),u=0,m=0}else this.last_left?(d,u=-50,m=20,g="rgba(200, 193, 255, "+x/4+")"):(l,u=-30,m=-50,g="rgba(200, 193, 255, "+x/4+")");i.na(s,m,u,c,this.t,g),this.muerto||i.na(s,0,this.m-this.t,f[this.s],this.t,g),s.restore()},this.oa=function(){for(var t=this.x;t<this.x+this.o;t++)for(var h=this.y-5;h<this.y+this.m;h++)if(i.ia(t,h))return!0;return!1},this.pa=function(){this.x=i.e(200,i.G-200),this.y=i.e(0,i.W/2)},this.ca=function(){var t=!1;return this.y+this.m>i.W-15?t=!1:this.last_left?!i.ia(this.x-5,this.y+this.m+15)&&i.ia(this.x,this.y+this.m+15)&&(t=!0):!i.ia(this.x+this.o+5,this.y+this.m+15)&&i.ia(this.x+this.o,this.y+this.m+15)&&(t=!0),t},this.da=function(){var t=!1;if(this.last_left)for(var h=this.y-2*this.m;h<=this.y+this.m/2;h++)i.ia(this.x+this.o+20,h)&&!i.ia(this.x+this.o,h)&&(t=!0);else for(var h=this.y-2*this.m;h<=this.y+this.m/2;h++)i.ia(this.x-20,h)&&!i.ia(this.x,h)&&(t=!0);return t},this.ea=function(){var t=!1,h=!1,s=!1;if(this.last_left)for(var a=this.y-this.m;a<=this.y+this.m-5;a++)i.ia(this.x-5,a)&&(h=!0),i.ia(this.x-5,a)||(t=!0);else for(var e=this.y-this.m;e<=this.y+this.m-5;e++)i.ia(this.x+this.o+5,e)&&(s=!0),i.ia(this.x+this.o+5,e)||(t=!0);return t&&(h||s)},this.$=function(){return i.qa(this.x,this.y,this.o,this.m,i.S.x,i.S.y,i.S.o,i.S.m)}},e=function(t,i,s,a,e,r){this.s=0,this.q=0,this.ra=4,this.x=i,this.y=s,this.m=12*this.ra,this.o=6*this.ra+5,this.U=this.x+this.o/2,this.V=this.y+this.m/2,this.dx=0,this.dy=0,this.u=850,this.v=850,this.sa=2500,this.C=220,this.D=550,this.ta=!1,this.z=1e3,this.A=t.B(),this.ka=t.B(),this.w=4e4,this.F=t.G+this.o,this.H=-this.o,this.I=0,this.ua=r,this.aa=r,this.R=t.B(),this.va=t.B(),this.wa=function(i){if(this.aa<0&&!this.xa&&(this.aa=0,this.jump=!0,t.ya(!1)),t.T>t.B())return t.za.x=30,t.za.y=t.W-100,void(t.Aa=!1);if(!t.Aa){for(t.Ba(t.za);t.Ca(t.za);)t.Ba(t.za);t.Aa=!0}if(!(this.R>t.B())){this.va>t.B()&&(this.aa=this.aa+1,this.aa>=t.ua&&(this.aa=this.ua)),t.Da||this.Ea()&&(t.Fa=!0,this.R=t.B()+3e3,this.Ga()),this.Ha()&&this.va<t.B()&&(this.va=t.B()+2e3,this.Ia()),this.U=this.x+this.o/2,this.V=this.y+this.m/2,this.Y=this.dx<0,this.Z=this.dx>0;var s=this.u*(this.falling?.2:1),a=this.v;if(this.ddx=0,this.ddy=this.z,this.left?(this.ddx=this.ddx-a,this.ta=!0):this.Y&&(this.ddx=this.ddx+s),this.right?(this.ddx=this.ddx+a,this.ta=!1):this.Z&&(this.ddx=this.ddx-s),this.jump&&!this.jumping&&this.A<t.B()&&(!t._||t.Ja)&&(this.ddy=this.ddy-this.w,this.jumping=!0,this.falling=!0,this.A=t.B()+300),this.accion&&t.counter>this.I&&!t._){this.Ka(),this.I=t.counter+3,t.La=t.B()+20;var e=!0,r=this.sa;this.jumping&&(r/=2),this.ta?(e=!1,this.ddx=this.ddx+r):this.ddx=this.ddx-r;var o=this;setTimeout(function(){t.Ma.push(new h(o.x,o.y-10,-10,-3,e,t,o))},i/3),setTimeout(function(){t.Ma.push(new h(o.x,o.y+10,10,3,e,t,o))},2*i/3),t.Ma.push(new h(this.x,this.y,0,0,e,t,this))}var n=10*this.sa,l=this.sa;this.ka-t.B()>1900&&(this.ddx=this.ddx+n*(.5-Math.random()),this.ddy=this.ddy+l*(.5-Math.random())),t._&&(this.dx=2e3*i,this.ta=!1,t.Ja&&(this.jump=!0,this.dx=7e3*i)),this.x=this.x+i*this.dx,this.y=this.y+i*this.dy,this.dx=t.fa(this.dx+i*this.ddx,-this.C,this.C),this.dy=t.fa(this.dy+i*this.ddy,-this.D,this.D),(this.Y&&this.dx>0||this.Z&&this.dx<0)&&(this.dx=0);for(var d=(this.y+this.m)%t.ha.ga,f=this.y%t.ha.ga,c=!1,u=this.x+5;u<=this.x+this.o-5;u++)t.ia(u,this.y-2)&&(c=!0);for(var m=!1,b=this.x+5;b<=this.x+this.o-5;b++)t.ia(b,this.y+this.m)&&(m=!0);for(var y=!1,v=this.y+5;v<=this.y+this.m-5;v++)t.ia(this.x-6,v)&&(y=!0);for(var x=!1,g=this.y+5;g<=this.y+this.m-5;g++)t.ia(this.x+this.o+2,g)&&(x=!0);this.dy>=0?(this.y+this.m>t.W&&(this.y=t.W-this.m,this.dy=0,this.jumping=!1,this.falling=!1),m&&(this.dy=0,this.jumping=!1,this.falling=!1,d&&(this.y=20*Math.floor((this.y+this.m)/20)-this.m))):this.dy<0&&c&&f&&(this.dy=0),this.dx>0?(this.x+this.o>=this.F&&(this.x=10),x&&!t._&&(this.dx=0)):this.dx<0&&(this.x<=this.H&&(this.x=t.G-this.o,this.y=this.y-20),y&&(this.dx=0))}},this.Na=function(i,h,s,a){t.T>t.B()&&(t.Oa?this.Pa():this.Qa()),t._&&(t.Ja?this.Ra():this.Sa());var e=this.x+this.dx*i,r=this.y+this.dy*i,o=[[,1,,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,]],n=[[,,,,1],[1,1,1,1,1],[1,1,1,1,1],[,,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1,1],[,,,,,]],l=[[,,1,,,,1,1,,,],[,1,1,1,1,1,1,1,1,1,1],[,,1,1,1,1,1,1,1,1,1],[,,,1,,,,,,,],[,,,1,,,,,,,],[,,1,1,,,,,,,]],d=[[,,,1,1,,,,1,,],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,,],[,,,,,,,1,,,],[,,,,,,,1,,,],[,,,,,,,1,1,,]],f=[];f[0]=[[,,1,,,1]],f[1]=[[,,1,,1,,]],f[2]=[[1,,,1,,,]],f[3]=[[,1,,1,,,]];t.T>t.B()?(this.q*=-1.1,this.q+=-1,opacidad_jugador=300/(t.T-t.B()),opacidad_jugador>1&&(opacidad_jugador=1),this.q=1e3*(opacidad_jugador-1)):this.R>t.B()?(a?(a=-1*a*1.1,this.q=a+-1,h.globalAlpha-=.009):(this.q*=-1.1,this.q+=-1,h.globalAlpha-=.005),opacidad_jugador-=.01):(opacidad_jugador=1,this.jumping?(this.s=1,this.q=0):this.left||this.right||t._?t.ma(s,30)<.5?(this.left?this.s=2:this.s=0,this.q=-2):this.left?(this.s=3,this.q=2):(this.s=1,this.q=2):this.q=0),h.save(),h.translate(e+this.o/2,r+this.m/2),radius=t.G/3,h.beginPath(),h.arc(0,0,300,0,2*Math.PI,!1);var c=h.createRadialGradient(0,0,.9*radius,this.o/2,this.m/2,0);if(this.ka-t.B()>1700){var u=Math.random()/2;c.addColorStop(0,"rgba(255, 11, 11, 0)"),c.addColorStop(1,"rgba(255, 11, 11, "+u+")")}else this.va>t.B()?(c.addColorStop(0,"rgba(122, 255, 122, 0)"),c.addColorStop(1,"rgba(122, 255, 122, 0.2)")):t._||(c.addColorStop(0,"rgba(251, 255, 243, 0)"),c.addColorStop(1,"rgba(251, 255, 243, 0.6)"));h.fillStyle=c,h.fill(),h.rotate(this.q*Math.PI/180);var m=o,b=l,y=-5;this.ta&&(m=n,b=d,y=5-this.o),h.translate(-this.o/2,-this.m/2);var v="rgba(210,228,241,"+opacidad_jugador+")";t.na(h,0,0,m,this.ra,v),t.na(h,0,this.m-this.ra,f[this.s],this.ra,v),this.Ta=0;var x="rgba(143,172,192,"+opacidad_jugador+")";if(h.translate(this.o/2.5,this.m/2),h.rotate(this.q*Math.PI/180),t._||t.na(h,y,0,b,3,x),h.restore(),this.ka>t.B()||this.va>t.B()){var g=this.ka;this.va>this.ka&&(g=this.va);var p=g-t.B(),_=p/2e3,M=2*this.o,S=this.aa/t.ua;h.fillStyle="rgba(11, 204, 0, "+_+")",S<.8&&(h.fillStyle="rgba(224, 239, 20, "+_+")"),S<.6&&(h.fillStyle="rgba(204, 199, 0, "+_+")"),S<.4&&(h.fillStyle="rgba(239, 92, 20, "+_+")"),S<.2&&(h.fillStyle="rgba(255, 0, 0, "+_+")"),h.fillRect(e-this.o/2,r-10,S*M,5),h.strokeStyle="rgba(255,255,255,"+_+")",h.lineWidth=1,h.strokeRect(e-this.o/2,r-10,M,5)}return this.q},this.Ka=function(){window.disparo_audio.pause(),window.disparo_audio.currentTime=0,window.disparo_audio.play(),window.disparo_audio2.playbackRate=.5,window.disparo_audio2.pause(),window.disparo_audio2.currentTime=0,window.disparo_audio2.play()},this.ba=function(){window.golpe_audio.pause(),window.golpe_audio.currentTime=0,window.golpe_audio.play()},this.Ga=function(){window.levelup_audio2.playbackRate=1,window.levelup_audio2.pause(),window.levelup_audio2.currentTime=0,window.levelup_audio2.play()},this.Ia=function(){},this.Qa=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,1,1,1,1,1,,,1],[1,,,1,1,,1,,1,1,,1,,1,1,1,,1,1,,1,1,,,,,1,,,1,1,,,1],[1,,,1,1,1,1,,1,1,,1,,1,1,,1,,1,,1,1,1,1,,,1,1,,1,1,,,1],[1,,,1,1,,1,,1,1,,1,,1,1,,,,1,,1,1,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,,,,1,1,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,,,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-60;t.na(t.ctx,h,s,i,3,"#ffffff")},this.Pa=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,1,1,1,,1,1,,1,1,,1,,1,1,1,,1,1,,1,1,,1,1,,,1],[1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,,1,1,,1,1,,,1],[1,,,1,1,,,,1,,1,1,,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-60;t.na(t.ctx,h,s,i,3,"#ffffff")},this.Ra=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,1,1,1,1,,1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,,,1,1,1,1,,,1],[1,,,1,1,1,,1,1,,1,1,,1,,1,1,1,,1,1,,,1,1,,,,1,1,,,,1,1,,,,1,1,,,,1,1,,1,,1,1,,,,,1],[1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,,,1,1,1,1,,1,1,,,,1,1,1,,,1,1,1,,,1,1,,1,,1,1,1,1,,,1],[1,,,1,1,,,,1,,1,1,,1,,1,1,,,,1,,,1,1,1,1,,1,1,,,,1,1,1,,,1,1,1,,,1,1,1,,,1,1,1,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,,,,1,,1,1,,,,1,1,,,,1,1,,,,1,1,,,,,,,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,,,1,1,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,1,1,1,,1,1,1,1,,1,,1,1,1,1,,,,,1,1,1,,,1,1,,,,1,1,1,1,,1,,,1,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,,,,,1,1,,,,,1,1,,,,,,,1,1,,1,,1,1,,,,1,1,,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,1,,,,1,1,,,,,1,1,1,1,,,,,1,1,,1,,1,1,,,,1,1,1,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,1,,,,1,1,,,,,1,1,1,1,,,,,1,1,1,,,1,1,,,,1,1,1,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,,,,,1,1,,,,,,,,1,,,,,1,1,,,,1,1,,,,1,1,,1,,,1,1,,,,,,,,,1],[1,,,1,1,1,1,,1,1,1,1,,,1,1,,,,,1,1,1,1,,,,,1,1,,,,1,1,1,1,,1,1,,1,,,1,1,,,1,1,,1,1,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-90;t.na(t.ctx,h,s,i,3,"#ffffff")},this.Sa=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,,1,1,,,1,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,,1,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,,,,,,,,,,,,1],[1,,,1,1,1,1,,1,1,,1,1,,1,1,,1,1,,1,1,,,1],[1,,,1,1,1,1,,1,1,,,1,,1,1,,1,1,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-60;t.na(t.ctx,h,s,i,3,"#ffffff")},this.Ea=function(){var i=t.za.x+t.za.o/3,h=t.za.y+t.za.o/3,s=t.za.o/3,a=t.za.o/3;return t.qa(this.x,this.y,this.o,this.m,i,h,s,a)},this.Ha=function(){if(!t.Da){if(void 0===t.Ua.x)return!1;return t.qa(this.x,this.y,this.o,this.m,t.Ua.x,t.Ua.y,t.Ua.o,t.Ua.m)}}},r={songData:[{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[1,2,3,4,5,6,7,8,7,9],c:[{n:[122,120,122,110,,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,122,120,122,110,,,,,,,,,,,,,,,,,,,,,,,,,,,,,125,124,125],f:[]},{n:[,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,120,122,120,110,,110,,110,,,,125,124,125,,,125,124,125,,,,,129,127,129,117,,132,134,122],f:[]},{n:[,110,,110,,110,110,110,120,122,120,110,,110,,110,117,116,115,113,119,118,117,116,120,122,120,110,,110,,110],f:[]},{n:[,110,,110,,110,110,110,120,122,120,110,,110,117,116,119,118,117,116,115,114,113,112,110,110,,110,122,,110,110],f:[]},{n:[,110,110,,,,,,110,110,,110,122,,117,116,119,118,121,120,123,124,126,127,110,110,,110,122,,110,110],f:[]},{n:[,110,110,,,,,,110,110,,110,122,,,117,119,113,,,116,111,,,112,112,,112,124,,,124],f:[]},{n:[,124,124,,122,124,125,122,124,,112,,124,,,124,,124,112,,120,119,117,110,,,110,,,,110,110],f:[]},{n:[,,110,,,,110,110,,,110,,,,110,110,,,110,,,,110,,112,,112,,124,,112,124],f:[]},{n:[,,110,,,,110,110,,,110,,,,110,110,,,110,,,,110],f:[]}]},{i:[0,160,128,1,0,160,128,0,1,210,4,7,41,0,0,0,60,4,1,2,255,0,0,32,61,5,32,6],p:[1,2,3,4,5,6,7,8,7,9,10],c:[{n:[134,132,134,122,,122,,134,132,134,122,,134,132,134,122,,122,,134,132,134,122,,132,134,122,,134,132,134,122],f:[]},{n:[,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,118,,,,142,,,118],f:[]},{n:[,,118,,142,,,118,118,,,,142,,,118,,,,,142,118,,,118,,,,142,,,118],f:[]},{n:[118,,,,142,,,118,118,118,,,142,,118,,118,,,118,142,,,,118,118,,,142,,118,118],f:[]},{n:[,118,118,,142,,,,118,118,,118,142,,,,142,118,,,142,118,,,118,118,,118,142,,118,118],f:[]},{n:[,118,118,,142,,,,118,118,,118,142,,,118,142,118,,,142,118,,,118,118,,118,142,,,118],f:[]},{n:[,118,118,,142,,118,,118,,,,142,,118,,118,118,,,142,118,118,118,,,118,,142,,118,118],f:[]},{n:[,,118,,142,,118,118,,,118,,142,,118,118,,,118,,142,,118,,118,,118,,142,,118,118],f:[]},{n:[,,118,,142,,118,118,,,118,,142,,118,118,,,118,,142,,118,118,,,,,118],f:[]},{n:[118,,,,118,,,,154],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,2,1,1,1,1,1,1,1,1],c:[{n:[154,,154,,154,,154,,154,,154,,154,,154,,154,,154,,154,,154],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,154,,154,,154,,154],f:[]}]},{i:[0,255,128,0,0,154,128,9,0,0,7,5,52,0,0,0,61,0,0,2,255,0,0,32,47,3,163,4],p:[,2,3,4,5,6,7,8,9,10],c:[{n:[],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,156,,,155,,,153],f:[]},{n:[,,,,,,151,153,149,,,,,,,,151,,,,,,,,149,,,148,,,146],f:[]},{n:[,,,,,,144,146,143,,,,,,,,139,,,,137,,,,141,,,,,,140],f:[]},{n:[,,,,137,,,,,,140,137,136,,141,140,143,142,145,144,147,148,150,151,141,,,,,,140],f:[]},{n:[,,,,141,,143,,,,144,,,,146,,,,148,149,152,,,,148,,,146,,,144],f:[]},{n:[143,,,,,,141,143,144,,,,,146,144,143,,,,,,,,144,,,,,,,,143],f:[]},{n:[,,143,,,,141,,,,141,,,,,137,141,137,136,,,,,,153,,,149,,,148],f:[]},{n:[148,,,,,,146,148,149,,,,,153,149,148,,,,,,,,134,,,,,137,,,128],f:[]},{n:[,,,,137,,,127,,,,,137,,,125,,,,,124,,,123],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,131,7],p:[,,,,,,,,,1,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],f:[]},{n:[,,,,,,,,110,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,117,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,122],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:5513,patternLen:32,endPattern:12},o={songData:[{i:[0,160,128,1,0,160,128,35,1,0,0,24,41,156,4,0,60,4,1,2,255,118,0,32,61,5,53,5],p:[1],c:[{n:[140],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},n={songData:[{i:[0,160,128,1,0,160,128,3,1,0,148,31,41,106,5,0,60,4,1,2,255,117,0,32,61,5,57,4],p:[1],c:[{n:[154],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},l={songData:[{i:[3,170,128,0,3,156,128,0,1,218,4,24,59,0,0,1,55,4,1,2,67,115,124,190,67,6,127,6],p:[1],c:[{n:[128],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},d=function(){var t,i,h,s,a,e=function(t){return Math.sin(6.283184*t)},r=function(t){return t%1*2-1},o=function(t){return t%1<.5?1:-1},n=function(t){var i=t%1*4;return i<2?i-1:3-i},l=function(t){return.003959503758*Math.pow(2,(t-128)/12)},d=function(t,i,h){var s,a,e,r,o,n,d,c=f[t.i[0]],u=t.i[1],m=t.i[3],b=f[t.i[4]],y=t.i[5],v=t.i[8],x=t.i[9],g=t.i[10]*t.i[10]*4,p=t.i[11]*t.i[11]*4,_=t.i[12]*t.i[12]*4,M=1/_,S=t.i[13],w=h*Math.pow(2,2-t.i[14]),B=new Int32Array(g+p+_),P=0,I=0;for(s=0,a=0;s<g+p+_;s++,a++)a>=0&&(S=S>>8|(255&S)<<4,a-=w,n=l(i+(15&S)+t.i[2]-128),d=l(i+(15&S)+t.i[6]-128)*(1+8e-4*t.i[7])),e=1,s<g?e=s/g:s>=g+p&&(e-=(s-g-p)*M),r=n,m&&(r*=e*e),P+=r,o=c(P)*u,r=d,v&&(r*=e*e),I+=r,o+=b(I)*y,x&&(o+=(2*Math.random()-1)*x),B[s]=80*o*e|0;return B},f=[e,o,r,n];this.init=function(e){t=e,i=e.endPattern-2,h=0,s=e.rowLen*e.patternLen*(i+1)*2,a=new Int32Array(s)},this.generate=function(){var r,o,n,l,c,u,m,b,y,v,x,g,p,_,M=new Int32Array(s),S=t.songData[h],w=t.rowLen,B=t.patternLen,P=0,I=0,U=!1,q=[];for(n=0;n<=i;++n)for(m=S.p[n],l=0;l<B;++l){var E=m?S.c[m-1].f[l]:0;E&&(S.i[E-1]=S.c[m-1].f[l+B]||0,E<15&&(q=[]));var j=f[S.i[15]],k=S.i[16]/512,z=Math.pow(2,S.i[17]-9)/w,L=S.i[18],R=S.i[19],W=43.23529*S.i[20]*3.141592/44100,O=1-S.i[21]/255,G=1e-5*S.i[22],D=S.i[23]/32,C=S.i[24]/512,Y=6.283184*Math.pow(2,S.i[25]-9)/w,N=S.i[26]/255,A=S.i[27]*w;for(x=(n*B+l)*w,c=0;c<4;++c)if(u=m?S.c[m-1].n[l+c*B]:0){q[u]||(q[u]=d(S,u,w));var T=q[u];for(o=0,r=2*x;o<T.length;o++,r+=2)M[r]+=T[o]}for(o=0;o<w;o++)b=2*(x+o),v=M[b],v||U?(g=W,L&&(g*=j(z*b)*k+.5),g=1.5*Math.sin(g),P+=g*I,p=O*(v-I)-P,I+=g*p,v=3==R?I:1==R?p:P,G&&(v*=G,v=v<1?v>-1?e(.25*v):-1:1,v/=G),v*=D,U=v*v>1e-5,y=Math.sin(Y*b)*C+.5,_=v*(1-y),v*=y):_=0,b>=A&&(_+=M[b-A+1]*N,v+=M[b-A]*N),M[b]=0|_,M[b+1]=0|v,a[b]+=0|_,a[b+1]+=0|v}return++h/8},this.createWave=function(){var t=2*s-8,i=t-36,h=new Uint8Array(44+2*s);h.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]);for(var e=0,r=44;e<s;++e){var o=a[e];o=o<-32767?-32767:o>32767?32767:o,h[r++]=255&o,h[r++]=o>>8&255}return h},this.getData=function(t,i){for(var h=2*Math.floor(44100*t),s=new Array(i),e=0;e<2*i;e+=1){var r=h+e;s[e]=t>0&&r<a.length?a[r]/32768:0}return s}},f=function(){this.B=function(){return(new Date).getTime()},this.e=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)},this.Va=function(t){var i=Math.floor(10*Math.random())+60;t&&(i*=3);var h=[],s=4,a=3,e=!1,r=0,o=0,n=15,l=42;t&&(l=25,n=1);for(var d=0;d<30;d++)for(var f=0;f<42;f++){var c=Math.random();if(f>l);else if(i>0&&d>=s&&f>=o&&c>.3||e){if(r<=a){h.push(1),e=!0,r++;continue}e=!1,r=0,i--,o=(f+5)%l,s=d+3}else!1,e=!1,r=0,a=Math.floor(Math.random()*n)+5;h.push(0)}var u=Math.floor(10*Math.random())+1;t&&(u*=3);for(var m=3,b=42,y=!1,v=0,f=41;f>=0;f--)for(var d=29;d>=0;d--){var c=Math.random(),x=f+42*d;if(u>0&&(f<b&&c>.4&&1===h[x]||y)){if(v<=m){h[x]=1,y=!0,v++;continue}y=!1,v=0,u--,b=f-(Math.floor(10*Math.random())+4)}else y=!1,v=0,m=Math.floor(5*Math.random())+2}for(var d=0;d<6;d++)for(var f=25;f<30;f++){var x=d+42*f;h[x]=0}return h},this.Wa=!1,this.Xa=!1,this._=!1,this.T=!1,this.Ya=220,this.ha={},this.ha.datos,this.ha.Za=20,this.ha.ga=42,this.ha.$a=30,this._a=0,this.ab=[],this.G=840,this.W=600,this.bb=840/this.ha.Za,this.cb=600/this.ha.Za,this.db=800,this.KEY={ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,X:88},this.eb=60,this.fps_interval=1e3/this.eb,this.fb=1/60,this.gb=document.getElementById("canvas"),this.ctx=this.gb.getContext("2d"),this.gb.width=this.G,this.gb.height=this.W,this.la=[],this.Ma=[],this.hb=[],this.ib=this.B(),this.La=this.B(),this.Fa=!1,this.jb=0,this.ua=250,this.kb=this.ua,this.lb=this.B(),this.mb=0,this.nb=2500,this.ob=function(){return"ontouchstart"in document.documentElement},this.pb=function(t,i,h){switch(i){case this.KEY.LEFT:return t.preventDefault(),this.S.left=h,!1;case this.KEY.RIGHT:return t.preventDefault(),this.S.right=h,!1;case this.KEY.UP:return t.preventDefault(),this.S.jump=h,!1;case this.KEY.DOWN:return t.preventDefault(),this.S.down=h,!1;case this.KEY.ENTER:case this.KEY.X:return t.preventDefault(),this.S.accion=h,!1}},this.fa=function(t,i,h){return Math.max(i,Math.min(h,t))},this.qa=function(t,i,h,s,a,e,r,o){return!(t+h-1<a||a+r-1<t||i+s-1<e||e+o-1<i)},this.qb=function(t,i,h,s,a){return(t-h)*(t-h)+(i-s)*(i-s)<=a*a},this.ma=function(t,i){var h=i/2,s=t%i;return s<h?s/h:1-(s-h)/h},this.rb=function(t,i){return this.ha.datos[t+i*this.ha.ga]},this.sb=function(t){return t*this.ha.ga},this.tb=function(t){return Math.floor(t/this.ha.Za)},this.ia=function(t,i){return this.rb(this.tb(t),this.tb(i))},this.ub=function(t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},this.na=function(t,i,h,s,a,e,r){if(t.fillStyle=e||"#ffffff",r)var o=this.ub(e);for(var n=i,l=h,d=0,f=0;f<s.length;f++){for(var c=s[f],u=0;u<c.length;u++)if(c[u])if(r){var m=0,b=0,y=0;b=Math.abs(n+u*a-this.S.U),y=Math.abs(l-this.S.V),m=Math.sqrt(b*b+y*y);var v=1-m/(2.5*this.Ya);if(m>2.5*this.Ya)continue;t.fillStyle="rgba("+o.r+","+o.g+","+o.b+","+v+")",t.fillRect(n+u*a,l,a,a)}else t.fillRect(n+u*a,l,1.1*a,1.1*a);d=Math.max(d,c.length*a),l+=a}n+=a+d},this.vb=function(t,i){this._a=0,this.ab=[],this.la=[],this.Da=t,this.ha.datos=this.Va(this.Da),this.ctx.globalAlpha=1;var h=1500;if(i&&(h=i),this.T=this.B()+h,this.S=new e(this,40,this.W-100,1e3,3e4,this.kb),this.Da)this.Oa=new Boss(this,this.G/1.5,240,800,3e4,1);else{for(this.mb++,this.za={},this.za.o=this.S.m,this.za.m=this.S.m,this.Ba(this.za);this.Ca(this.za);)this.Ba(this.za);if(this.Ua={},Math.random()>.6)for(this.Ua.o=this.S.m/2,this.Ua.m=this.S.m/2,this.wb(this.Ua);this.xb(this.Ua);)this.wb(this.Ua);var s=1+2*this.mb,r=5+2*this.mb;this._a=this.e(s,r);for(var o=this.e(0,4),n=this.e(150,215),l=this.e(90,195),d=this.e(90,195),f=0;f<this._a;f++){for(var c=this.e(200,this.G-200),u=this.e(0,this.W/2),m=new a(this,c,u,o,n,l,d);m.oa();)m.pa();this.ab.push(m)}}},this.Ca=function(t){for(var i=t.x;i<t.x+t.o;i++)for(var h=t.y-5;h<t.y+t.m;h++)if(this.ia(i,h))return!0;return!1},this.Ba=function(t){t.x=this.e(this.S.o,this.G-this.S.o),t.y=this.e(0,this.W/1.5)},this.xb=function(t){for(var i=t.x;i<t.x+t.o;i++)for(var h=t.y-5;h<t.y+t.m;h++)if(this.ia(i,h))return!0;return!1},this.wb=function(t){t.x=this.e(this.S.o,this.G-this.S.o),t.y=this.e(0,this.W/1.5)},this.yb=function(){var t;t=this.Ja?[[1,1,,1,1,,1,1,1,1,,1,1,,1,,,,1,1,,1,,1,,1,1,,1,1,,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,1,1,,1,,1,,,,,1,1,,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,1,1,,1,,1,,1,1,,1,1,1,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,,1,,1,,1,,1,1,,1,1,,1,1,,,,,,,,],[,1,1,1,,,1,1,1,1,,1,1,1,1,,,,,,1,,1,,,1,1,,1,1,,,1,,,1,,1,,1]]:[[1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,1,1,,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1],[1,1,,,,1,1,,1,,1,1,1,1,,1,1,,,,,,1,1,,1,,1,1,,1,,1,1,,,,1,1,,1],[1,1,,,,1,1,1,1,,1,1,,1,,1,1,1,,,,,1,1,,1,,1,1,,1,,1,1,1,1,,1,1,1,1],[1,1,,1,,1,1,,1,,1,1,,1,,1,1,,,,,,1,1,,1,,,1,,1,,1,1,,,,1,1,1],[1,1,1,1,,1,1,,1,,1,1,,1,,1,1,1,1,,,,1,1,1,1,,,,1,,,1,1,1,1,,1,1,,1]];this.na(this.ctx,this.G/2-330,260,t,16,"rgba(255,255,255,1)"),this.na(this.ctx,this.G/2-130,380,play_again,6,"rgba(255,255,255,1)"),document.getElementById("play_again").style.display="block"},this.ya=function(i){this.la.push(new t(this.G/2,this.W/2,!0,!0,i)),
this.xa=!0,this.Ja?window.audio.playbackRate=3:window.audio.playbackRate=.5;var h=this;window.setTimeout(function(t){if(h.xa=!1,h._=!0,h.Ja=i,i)for(var s=0;s<20;s++){for(var e=h.e(200,h.G-200),r=h.e(0,h.W/2),o=h.e(0,4),n=h.e(150,215),l=h.e(90,195),d=h.e(90,195),f=new a(h,e,r,o,n,l,d);f.oa();)f.pa();h.ab.push(f)}},2e3)},this.wa=function(t){if(this.kb=this.S.aa,this.Fa&&this.S.R<this.B()){this.Fa=!1,this.ctx.globalAlpha=1,this.jb++;var i=!1;this.jb>5&&Math.random()>.7&&(i=!0),this.vb(i)}if(this.S.wa(t),this.Da&&this.Oa.wa(t),!this.Da||this._)for(var h=0;h<this.ab.length;h++)this.ab[h].update(t)},this.zb=function(t,i,h){if(t.clearRect(0,0,this.G,this.W),this._)return this.Ya=this.G,this.Ab(t,h),this.Bb(t,h),this.Cb(t),this.Db(t,h),t.fillStyle="rgba(50,50,50,0.5)",t.fillRect(0,0,this.G,this.W),void this.yb(t);this.Cb(t),this.Db(t,h),this.Ab(t,h),this.Da||(this.Eb(t),this.Fb(t)),this.Gb(t,h,!0),this.Hb(t),this.Ib(t),this.Da&&this.Jb(t),this.Bb(t,h)},this.Kb=function(){if(this.La>this.B()){var t=4;this.ib>this.B()&&(t*=10),this.ctx.save(),this.dx_shacke||this.dy_shacke?(this.ib>this.B()&&(this.dx_shacke=(Math.random()-.5)*t,this.dy_shacke=(Math.random()-.5)*t),this.Oa?this.Oa.Lb>this.B()&&(this.dx_shacke=(Math.random()-.5)*t*2,this.dy_shacke=(Math.random()-.5)*t*2):(this.dy_shacke=-.9*this.dy_shacke,this.dx_shacke=-.9*this.dx_shacke)):(this.dx_shacke=(Math.random()-.5)*t,this.dy_shacke=(Math.random()-.5)*t),this.ctx.translate(this.dx_shacke,this.dy_shacke)}else this.dx_shacke=0,this.dy_shacke=0},this.Mb=function(){this.ctx.restore()},this.Gb=function(t,i,h){var s,a,e=0;this.S.V-this.Ya>0&&(e=Math.floor((this.S.V-this.Ya)/this.ha.Za));var r=Math.floor(this.W/this.ha.Za);this.S.V+this.Ya<this.W&&(r=Math.floor((this.S.V+this.Ya)/this.ha.Za));var o=0;this.S.U-this.Ya>0&&(o=Math.floor((this.S.U-this.Ya)/this.ha.Za));var n=Math.floor(this.G/this.ha.Za);this.S.U+this.Ya<this.G&&(n=Math.floor((this.S.U+this.Ya)/this.ha.Za));var l=0,d=0,f=0;for(a=e;a<=r;a++)for(s=o;s<=n;s++)this.rb(s,a)&&(d=Math.abs(s-Math.floor(this.S.U/this.ha.Za)),f=Math.abs(a-Math.floor(this.S.V/this.ha.Za)),l=Math.sqrt(d*d+f*f),opacidad=1/l*2.5,h||(opacidad/=2),t.fillStyle="rgba(250,250,250,"+opacidad+")",t.fillRect(s*this.ha.Za,a*this.ha.Za,this.ha.Za,this.ha.Za))},this.Nb=function(t,i){var h=0,s=0;return h=Math.abs(t-this.S.U),s=Math.abs(i-this.S.V),Math.sqrt(h*h+s*s)},this.Eb=function(t){radius=this.za.o;var i=this.za.x+this.za.o/2,h=this.za.y+this.za.m/2;if(distancia_centro=this.Nb(i,h),!(distancia_centro>this.Ya)){var s=t.createRadialGradient(i,h,0,i,h,radius);t.fillStyle=s;for(var a=-2;a<2;a++){var e=i+(.5-Math.random())*a*15,r=h+(.5-Math.random())*a*15,o=this.e(110,255);t.beginPath(),t.arc(e,r,radius,0,2*Math.PI,!1),s.addColorStop(0,"rgba("+Math.floor(o/1.2)+", "+o+", "+o+", 0)"),s.addColorStop(.6,"rgba("+Math.floor(o/1.2)+", "+o+", "+o+", 0)"),s.addColorStop(.8,"rgba("+Math.floor(o/1.2)+", "+o+", "+o+", 0.2)"),s.addColorStop(1,"rgba("+Math.floor(o/1.2)+", "+o+", "+o+", 0.3)"),t.fill()}t.beginPath(),t.arc(i,h,1.2*radius,0,2*Math.PI,!1);var s=t.createRadialGradient(i,h,0,i,h,1.2*radius);s.addColorStop(0,"rgba(209,127,140, 0.2)"),s.addColorStop(.8,"rgba(209,127,140, 0.1)"),s.addColorStop(1,"rgba(209,127,140, 0)"),t.fillStyle=s,t.fill()}},this.Fb=function(t){var i=this.Ua.x+this.Ua.o/2,h=this.Ua.y+this.Ua.m/2;distancia_centro=this.Nb(i,h);var s=this.S.va-this.B();if(!(s<0))return s/=1e3,void(s<.5?this.Ua={}:(t.strokeStyle="#ffffff",t.lineWidth=20*s+10,lejos_quitar=50*(1-s),t.strokeRect(this.Ua.x-lejos_quitar,this.Ua.y-lejos_quitar,this.Ua.m+2*lejos_quitar,this.Ua.m+2*lejos_quitar)));if(s=1,!(distancia_centro>this.Ya)){var a=this.ma(this.counter,80),e=this.ma(this.counter,60),r=5*a+2,o=10*e;t.fillStyle="rgba(255,110,110,"+((1-a)/2+.5*s/2)+")";var n=this.Ua.x,l=this.Ua.y+this.Ua.m/3;t.fillRect(n,l,this.Ua.o,this.Ua.m/3);var d=this.Ua.x+this.Ua.m/3,f=this.Ua.y;t.fillRect(d,f,this.Ua.o/3,this.Ua.m),t.strokeStyle="rgba(255,255,155,"+(a/7+.1*s/2)+")",t.lineWidth=8,t.strokeRect(this.Ua.x-r,this.Ua.y-r,this.Ua.m+2*r,this.Ua.m+2*r),t.strokeStyle="rgba(133,200,133,"+(a/7+.1*s/2)+")",t.lineWidth=15,t.strokeRect(this.Ua.x-o,this.Ua.y-o,this.Ua.m+2*o,this.Ua.m+2*o)}},this.Ob=0,this.Jb=function(i){if(this.Oa.Lb>this.B()){var h=this.Oa.Lb-this.B(),s=Math.floor(h/this.nb*40);s=40-s;this.Ob=s%20,this.Ob>10&&(this.Ob=20-this.Ob);var a=9*this.Ob,e=this.G/40*2,r=this.G/40*s,o=i.createLinearGradient(0,this.W-100,0,this.W);o.addColorStop(0,"rgba(186,186,186,0.3)"),o.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=o;var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=r;if(i.fillRect(this.Oa.x-r+l,this.W-a+15+n,e,a+n),r=this.G/40*(s-2),alto_ola_n=.7*a+n,i.fillRect(this.Oa.x-r+n,this.W-alto_ola_n+15+l,e,alto_ola_n+l),r=this.G/40*(s-4),alto_ola_n=.4*a+l,i.fillRect(this.Oa.x-r+10*(Math.random()-.5),this.W-alto_ola_n+5,e,alto_ola_n),r=this.G/40*(s+2),alto_ola_n=.7*a+d,i.fillRect(this.Oa.x-r+n,this.W-alto_ola_n+15,e,alto_ola_n),r=this.G/40*(s+4),alto_ola_n=.4*a+l,i.fillRect(this.Oa.x-r+d,this.W-alto_ola_n+15,e,alto_ola_n),x_empieza_terremoto=this.Oa.x-f+l,x_final_terremoto=this.Oa.x-r+d,this.S.U<x_empieza_terremoto&&this.S.U>x_final_terremoto&&this.S.V>this.W-100){this.S.aa=this.S.aa-5,this.S.ba();for(var c=0;c<10;c++)this.la.push(new t(this.S.U,this.S.V,!0));this.S.ka=this.B()+2200}}},this.Bb=function(t,i){this.S.Na(i,t,this.counter)},this.Db=function(t,i){for(var h=0;h<this.ab.length;h++){this.Nb(this.ab[h].x,this.ab[h].y)<this.Ya&&this.ab[h].ja(i,t,this.counter)}},this.Ab=function(t,i){this.Da&&this.Oa.Pb(i,t,this.counter)},this.Cb=function(t){if(0!==this.la.length)for(var i=0;i<this.la.length;i++){var h=this.la[i],s=h.a;if(0===s.length)return void this.la.splice(i,1);for(var a=s.slice(),e=0;e<s.length;e++){var r=s[e],o=0,n=0,l=0;if(n=Math.abs(r.x-this.S.U),l=Math.abs(r.y-this.S.V),o=Math.sqrt(n*n+l*l),this._&&r.final)a.splice(e,1);else if(!(o>300)){var d=(1-o/150)*r.opacidad,f=!1;r.xv>0?r.max_x-r.x<0&&(f=!0):r.x-r.max_x<0&&(f=!0),r.yv>0?r.max_y-r.y<0&&(f=!0):r.y-r.max_y<0&&(f=!0),f||(d*=20),t.beginPath(),t.arc(r.x,r.y,r.size,2*Math.PI,0,!1),t.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+d+")",t.fill(),r.size<=2||f||(r.x+=r.xv,r.y+=r.yv,r.size-=.1)}}h.a=a}},this.Hb=function(i){for(var h=0;h<this.Ma.length;h++){var s=this.Ma[h],a=8*s.size,e=0,r=0,o=0;if(r=Math.abs(s.x-this.S.U),o=Math.abs(s.y-this.S.V),(e=Math.sqrt(r*r+o*o))<1.2*this.Ya){if(this.Da){if(this.qa(this.Oa.x,this.Oa.y,this.Oa.o,this.Oa.m,s.x-a/2,s.y-a/2,a,a)){var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=45*Math.random(),c=45*Math.random(),u=45*Math.random(),m=Math.floor(155*Math.random())+100;i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+n,s.y+l,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+l,s.y+d,c,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+d,s.y+n,u,2*Math.PI,0,!1),i.closePath(),i.fill(),this.Ma.splice(h,1),this.Oa.Qb=this.B()+400;continue}}else for(var b=0;b<this._a;b++)if(!this.ab[b].muerto&&this.B()>this.ab[b].L&&this.qa(this.ab[b].x,this.ab[b].y,this.ab[b].o,this.ab[b].m,s.x-a/2,s.y-a/2,a,a)){this.ib=this.B()+200;var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=45*Math.random(),c=45*Math.random(),u=45*Math.random(),m=Math.floor(155*Math.random())+100;i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+n,s.y+l,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+l,s.y+d,c,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+d,s.y+n,u,2*Math.PI,0,!1),i.closePath(),i.fill();var y=this.ab[b].x+this.ab[b].o/2,v=this.ab[b].y+this.ab[b].m/2;this.la.push(new t(y,v,!1)),this.Ma.splice(h,1),this.ab[b].L=this.B()+400,this.ab[b].muerto=!0}else;if(this.ia(s.x,s.y)||this.ia(s.x-5,s.y)||this.ia(s.x+5,s.y)||this.ia(s.x-10,s.y)||this.ia(s.x+10,s.y)||this.ia(s.x-15,s.y)||this.ia(s.x+15,s.y)){var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=45*Math.random(),c=45*Math.random(),u=45*Math.random(),m=Math.floor(255*Math.random());i.beginPath(),i.fillStyle="rgba(255,"+m+",0,0.1)",i.arc(s.x+n,s.y+l,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",0.1)",i.arc(s.x+l,s.y+d,c,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",0.1)",i.arc(s.x+d,s.y+n,u,2*Math.PI,0,!1),i.closePath(),i.fill(),this.Ma.splice(h,1);continue}1===s.size&&(i.beginPath(),i.fillStyle="rgba(255,255,255,0.4)",i.arc(s.x,s.y,5*a,2*Math.PI,0,!1),i.closePath(),i.fill());var x=1-e/(1.2*this.Ya),g=1.14*a;i.beginPath();var p=1;s.xv<0&&(p=-1),i.fillStyle="rgba(255,255,0,"+x/24+")",i.arc(s.x,s.y,.8*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,20,"+x/20+")",i.arc(s.x+2*p,s.y,.85*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,40,"+x/16+")",i.arc(s.x+4*p,s.y,.9*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,60,"+x/12+")",i.arc(s.x+6*p,s.y,.92*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,80,"+x/8+")",i.arc(s.x+8*p,s.y,.94*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,100,"+x/4+")",i.arc(s.x+10*p,s.y,.96*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,120,"+x+")",i.arc(s.x+12*p,s.y,.98*g,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(250,250,250,"+x/2+")",i.arc(s.x+12*p,s.y,g,2*Math.PI,0,!1),i.arc(s.x+14*p,s.y,g,2*Math.PI,0,!1),i.closePath(),i.fill()}s.x>this.G||s.x<0?this.Ma.splice(h,1):(s.x+=s.xv,s.y+=s.yv,s.size-=.004)}},this.Ib=function(i){for(var h=0;h<this.hb.length;h++){var s=this.hb[h],a=100*s.size;s.xv<0&&-1;var e=!0;if(s.L>this.B()){var r=10*(Math.random()-.5),o=10*(Math.random()-.5),n=(Math.random(),80*Math.random());if(this.qb(this.S.U,this.S.V,s.x,s.y,n)&&!s.Rb){this.S.aa-=5,this.S.ba();for(var h=0;h<10;h++)this.la.push(new t(this.S.U,this.S.V,!0));this.S.ka=this.B()+2e3}var l=Math.floor(255*Math.random());i.beginPath(),i.fillStyle="rgba(0,0,"+l+",0,0.1)",i.arc(s.x+r+a/2,s.y+o+a/2,n,2*Math.PI,0,!1),i.closePath(),i.fill(),e=!1}else s.Sb&&(s.Rb=!0);if(s.Rb)this.hb.splice(h,1);else{(this.ia(s.x,s.y)||this.ia(s.x-5,s.y)||this.ia(s.x-10,s.y)||this.ia(s.x,s.y-5)||this.ia(s.x,s.y-10)||this.ia(s.x,s.y+5)||this.ia(s.x,s.y+10)||this.ia(s.x,s.y+20)||this.ia(s.x,s.y+30)||this.ia(s.x,s.y+40)||this.ia(s.x,s.y+50)||this.qa(this.S.x,this.S.y,this.S.o,this.S.m,s.x-a/2,s.y-a/2,a,a))&&!s.Sb&&(s.L=this.B()+500,s.Sb=!0);var d=[[,,,,,,,],[,,,,,,,],[,,,1,1,,,],[,1,1,1,1,,,],[1,1,1,1,1,,,],[1,1,1,1,1,1,1,1],[,,,,,,,],[,,,,,,,]];i.beginPath(),i.fillStyle="rgba(250,0,0,0.01)",i.arc(s.x,s.y,a,2*Math.PI,0,!1),i.closePath(),i.fill();var f=s.x+8*d[0].length/2,c=s.y+8*d[0].length/2;s.x,d[0].length,s.y,d[0].length;i.save(),i.translate(f,c),i.rotate(s.q*Math.PI/180);var u=-8*d[0].length/2;i.arc(0,0,70,0,2*Math.PI,!1);var m=i.createRadialGradient(0,0,70,0,0,0);m.addColorStop(0,"rgba(151, 110, 143, 0)"),m.addColorStop(1,"rgba(151, 110, 143, 0.6)"),i.fillStyle=m,i.fill();var b="rgba(251, 110, 143, 0.7)";if(!e){b="rgba(251, 110, 143, "+(s.L-this.B())/2500+")"}this.na(i,u,u,d,8,b),i.restore(),s.x>this.G||s.x<0?this.hb.splice(h,1):e&&(s.x+=s.xv,s.y+=s.yv,s.q+=s.xv)}}},this.Tb=function(t){var i=[[1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,,,1,1,1,1,,1,1,,,1,,1,1,1,,,,,1,1,1,1,,1,1,,,1,,1,1,1,1,,,1,1,1,1,,,1,1,,,1,1],[1,1,,,,1,1,,1,,1,1,,,,,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,,1,,,,1,1,,1,,1,1,,,1,,1,1,,,,,1,1,,1,,,,1,1,1,1,,],[1,1,,,,1,1,,1,,1,1,1,1,,,1,1,,,,,1,1,,1,,1,1,1,,1,,1,1,,1,,,,1,1,,1,,1,1,1,,1,,1,1,,1,1,,1,1,1,,,,,,1,1,,,],[1,1,,,,1,1,,1,,,,1,1,,,1,1,,,,,1,1,1,1,,1,1,,1,1,,1,1,,1,,,,1,1,1,1,,1,1,,1,1,,1,1,,,1,,1,1,,1,,,,,1,1,,,],[1,1,1,1,,1,1,1,1,,1,1,1,1,,,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,1,1,1,,1,1,,,1,,,,1,1,,,]],h=this.G/2-8*i[0].length/2,s=[[1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,,,1,1,,1,1,,,1,,1,1,1,1,,,,,,,,,],[1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,,,,1,1,,,1,,1,1,,,,,,,,,,,],[1,1,,,,1,1,,1,,1,1,1,1,,1,1,,1,,1,1,,1,1,1,,1,,1,1,,1,1,,,,,,,,],[1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,1,1,,1,1,,1,1,,1,1,,,1,,,,,,,,],[1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,1,,,1,1,,1,1,,,1,,1,1,1,1,1,,1,,1,,1,,]],a=this.G/2-4*s[0].length/2;this.na(t,h,180,i,8,"#ffffff");for(var e=-2;e<2;e++){var r=h+(.5-Math.random())*e*15,o=180+(.5-Math.random())*e*15;this.na(t,r,o,i,8,"rgba("+this.e(222,255)+","+this.e(222,255)+","+this.e(222,255)+",0.1)")}var n=this.ma(this.counter,60),l="rgba(255,255,255,"+n+")";if(this.na(t,a,260,s,4,l),!this.ob()){var d=[[1,1,1,1,,1,1,1,1,,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,,1,1,1,1,,,1,1,1,1,,1,1,1,1,,,1,1,,,,1,,1,1,1,1,,1,1,,1,,1,1,1,1,,,,,,,1,,,,1,,,1,1,1,1,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1,,1,1,1,1],[1,1,,1,,1,1,,1,,,1,1,,1,,,1,1,,1,,1,1,,1,,1,,1,1,,,,,,1,1,,,1,1,,1,,,1,1,1,,1,1,,1,1,,1,,1,1,,1,,1,1,,,,,,,,,,1,,1,,,,,1,1,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,,1,,1,1,1,1,,,1,1,1,1,,,1,1,,1,,1,1,,1,,1,,1,1,1,1,,,,1,1,,,1,1,,1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,1,1,,,,1,1,,,,,1,,,,,,1,1,,,1,1,,1,,,1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,1,1,,1,1,,1,,,1,1,,1,,,1,1,,1,,,1,1,1,1,,,,,,1,,,,1,1,,,1,1,,1,,,1,1,,,,1,,1,1,,1,,,1,,1,,1,1,,,,,,,,,,1,,1,,,,,1,1,,,1,1,,1,,,,,,1,,1,1,,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,,1,,1,1,,,1,,1,1,,,1,,1,1,1,1,,,,1,1,,,,1,1,1,1,,,,1,1,,,1,1,1,1,,,1,1,,,,1,,1,1,1,1,,,,1,,,1,1,1,1,,,,,,,1,,,,1,,,,1,1,,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1,,,1,1]],f=this.G/2-2.5*d[0].length/2;this.na(t,f,550,d,2.5)}},this.Ub=0,this.Vb=this.B()+5e3,this.Wb=this.B(),this.Xb=!1,this.Yb=function(t,i){if(this.Wb<this.B()&&this.Xb)return this.vb(!1,1800),window.audio.play(),void(this.Wa=!0);this.Xb||(this.Zb=this.G/2-200+2*this.counter),this.S=new e(this,this.Zb,this.W/2+100,1e3,3e4,this.kb),this.za={},this.za.o=this.S.m,this.za.m=this.S.m,this.za.x=this.G/2+150,this.za.y=this.W/2+100,this.S.right=!0,this.S.x>=this.za.x+10&&!this.Xb&&(this.Xb=!0,this.Wb=this.B()+3e3),this.S.x>=this.za.x+10&&(this.S.R=this.B()+3e3),this.Eb(t),this.S.Qa(),this.Ub=this.S.Na(i,t,this.counter,this.Ub)},this.$b=function(){document.getElementById("controles_mobile").style.display="none",document.getElementById("canvas_mobile").style.display="none";var t=window.innerWidth,i=window.innerHeight;canvas_mobile_gira=document.getElementById("canvas_mobile_gira"),canvas_mobile_gira.style.display="block",ctx_mobile_gira=canvas_mobile_gira.getContext("2d"),canvas_mobile_gira.width=t,canvas_mobile_gira.height=i;var h=[[,,,1,1,1,1,,,,],[,,1,,,,,1,,,],[,1,,,,,,,1,,1],[,1,,,,,,,,1,1],[1,1,1,,,,,,1,1,1],[,,,,,,,,,,],[,,,,,,,,,,],[1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,1,1],[1,1,1,1,1,1,1,1,1,1,1]],s=t/2-12*h[0].length/2;this.na(ctx_mobile_gira,s,200,h,12)},this._b=function(){document.getElementById("canvas_mobile_gira").style.display="none",i=document.getElementById("canvas_mobile"),h=i.getContext("2d"),i.style.display="block";var t=window.innerWidth;i.width=this.G,i.height=100;var s=[[,1,,],[,1,1],[1,1,1,1],[,1,1],[,1,,]],a=[[,,1],[,1,1],[1,1,1,1],[,1,1],[,,1]],e=[[,,1,,],[,1,1,1],[1,1,1,1,1],[,1,1,1],[,1,1,1]],r=[[1,,1,,1],[,1,1,1],[1,1,1,1,1],[,1,1,1],[1,,1,,1]];this.na(h,20,20,a,12),this.na(h,120,20,s,12),this.na(h,t-180,20,e,12),this.na(h,t-80,20,r,12),document.getElementById("controles_mobile").style.display="block";var o=this;document.getElementById("der_mobile").addEventListener("touchstart",function(t){o.S.right=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("izq_mobile").addEventListener("touchstart",function(t){o.S.left=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("arr_mobile").addEventListener("touchstart",function(t){o.S.jump=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("accion_mobile").addEventListener("touchstart",function(t){o.S.accion=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("lost").addEventListener("touchmove",function(t){var i=document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY);t.preventDefault(),"der_mobile"===i.id?(o.S.right=!0,document.getElementById("der_mobile").className="tecla_mobile pulsada"):(o.S.right=!1,document.getElementById("der_mobile").className="tecla_mobile"),"izq_mobile"===i.id?(o.S.left=!0,document.getElementById("izq_mobile").className="tecla_mobile pulsada"):(o.S.left=!1,document.getElementById("izq_mobile").className="tecla_mobile")}),document.getElementById("der_mobile").addEventListener("touchend",function(t){o.S.right=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("izq_mobile").addEventListener("touchend",function(t){o.S.left=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("arr_mobile").addEventListener("touchend",function(t){o.S.jump=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("accion_mobile").addEventListener("touchend",function(t){o.S.accion=!1,this.className="tecla_mobile",t.preventDefault()})};var i,h,s=this;this.ac=function(){this.ob()&&(window.innerHeight>window.innerWidth?(s.$b(),s.Xa=!0):(s._b(),s.Xa=!1),window.addEventListener("orientationchange",function(t){window.setTimeout(function(){window.innerHeight>window.innerWidth?(s.$b(),juego.Xa=!0):(s._b(),s.Xa=!1)},300)}))}};!function(){function t(){if(h.Xa)return void requestAnimationFrame(t,canvas);if(!h.Wa)return h.counter++,h.ctx.clearRect(0,0,h.G,h.W),h.Tb(h.ctx),h.Yb(h.ctx,a),void requestAnimationFrame(t,canvas);for(s=h.B(),a+=Math.min(1,(s-e)/1e3);a>h.fb;)a-=h.fb,h.xa||h.wa(h.fb);if(h.xa){var i=s-u;i>c&&(h.Kb(),h.zb(h.ctx,h.counter,a),h.Mb(),h.wa(h.fb),u=s-i%c)}else h.Kb(),h.zb(h.ctx,h.counter,a),h.Mb();e=s,h.counter++,requestAnimationFrame(t,canvas)}function i(){document.hidden?h.Xa=!0:(h.Xa=!1,h.ac())}var h=new f;h.ac(),h.counter=0;var s,a=0,e=h.B(),c=50,u=h.B();document.addEventListener("keydown",function(t){return h.pb(t,t.keyCode,!0)},!1),document.addEventListener("keyup",function(t){return h.pb(t,t.keyCode,!1)},!1),document.addEventListener("visibilitychange",i,!1);var m=new d,b=!1;m.init(r);var y=new d;y.init(o);var v=!1;window.golpe_audio;var x=new d;x.init(l);var g=!1;window.disparo_audio,window.disparo_audio2;var p=new d;p.init(n);var _=!1;window.levelup_audio2;var M=!1;t();var S=setInterval(function(){if(M)return h.ac(),void clearInterval(S);if(!b){var t=m.generate();h.music_percent=t,t>=1&&(b=!0)}if(v||y.generate()>=1&&(v=!0),_||p.generate()>=1&&(_=!0),g||x.generate()>=1&&(g=!0),M=b&&g&&v){var i=m.createWave();window.audio=document.createElement("audio"),window.audio.src=URL.createObjectURL(new Blob([i],{type:"audio/wav"})),window.audio.loop=!0,window.audio.volume=.3;var s=y.createWave();window.golpe_audio=document.createElement("audio"),window.golpe_audio.src=URL.createObjectURL(new Blob([s],{type:"audio/wav"})),window.golpe_audio.volume=.5;var a=p.createWave();window.levelup_audio2=document.createElement("audio"),window.levelup_audio2.src=URL.createObjectURL(new Blob([a],{type:"audio/wav"})),window.levelup_audio2.volume=1;var e=x.createWave();window.disparo_audio2=document.createElement("audio"),window.disparo_audio=document.createElement("audio"),window.disparo_audio.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),window.disparo_audio.volume=.6,window.disparo_audio2.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),window.disparo_audio2.volume=.3}},50)}();