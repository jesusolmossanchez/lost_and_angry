var t=function(t,h,s,a,e){this.a=[],this.d=25,s&&(this.d=this.d/100),a&&(this.d=this.d/2);for(var r=0;r<this.d;r++)this.a.push(new i(t,h,s,a,e))},i=function(t,i,h,s,a){this.e=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)},this.h=3,this.j=15,this.k=2,this.l=15,s&&(this.h=3,this.j=30,this.k=200,this.l=1e3),this.r=this.e(0,155),this.g="0",this.b=this.e(0,55),h&&(this.r=this.e(0,255),this.g="0",this.b="0"),s&&(this.r=this.e(0,255),this.g=this.e(0,55),this.b=this.e(0,55),a&&(this.r=this.e(0,255),this.g=this.e(0,255),this.b=this.e(0,255))),this.x=t,this.y=i,this.xv=this.e(this.h,this.j),this.yv=this.e(this.h/2,this.j/2),this.xv>0?this.max_x=t+100*Math.random():this.max_x=t-100*Math.random(),this.yv>0?this.max_y=i+100*Math.random():this.max_y=i-100*Math.random(),this.opacidad=Math.random(),this.final=s,this.size=this.e(this.k,this.l)},h=function(t,i,h,s,a,e,r){this.x=t,this.y=i+r.m/2;var o=1,n=this.x+r.o+15;a||(o=-1,n=this.x-r.o+15),this.x=n,this.size=1,this.xv=35*o+h,this.yv=7*(Math.random()-.5)+s},s=function(t,i,h,s,a,e){this.x=t-e.o/4;var r=Math.floor(e.m/3);this.y=i+e.m/1.7+a.e(-r,r),this.size=1;this.q=90,this.xv=-1*(.5+Math.random())*5+h,this.yv=7*(Math.random()-.5)+s},a=function(i,h,s,a){this.s=0,this.q=0,this.t=4,this.x=h,this.y=s,this.m=12*this.t,this.o=6*this.t+5,this.dx=0,this.dy=0,this.u=7e12,this.v=500,this.shoot_back=1500,this.w=3e4,this.last_left=!1,this.z=800,this.A=i.B(),this.C=140,this.D=500,this.F=i.G+this.o,this.H=-this.o,this.I=0,this.J=Math.random()>.5,this.K=i.B(),this.L=i.B(),this.M=a,this.N=[],this.O=[],this.N[0]=[[,,,1,1,1],[,,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,,],[,,1,1,,,],[1,,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,,,,,,]],this.O[0]=[[,,,1,1,1],[,,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,,],[,,1,1,,,],[1,,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.O[0].length;e++)this.O[0][e].reverse();this.N[1]=[[1,,,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,,,],[,,1,1,,,],[1,,1,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,,]],this.O[1]=[[1,,,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,,,],[,,1,1,,,],[1,,1,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,,]];for(var e=0;e<this.O[1].length;e++)this.O[1][e].reverse();this.N[2]=[[1,,,,1,1],[1,1,,,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,1,1],[1,,1,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,1,,],[,,,,,,]],this.O[2]=[[1,,,,1,1],[1,1,,,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,1,1,1,1],[1,,1,1,,1],[1,1,1,1,,1],[1,1,1,1,1,1],[,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.O[2].length;e++)this.O[2][e].reverse();this.N[3]=[[1,1,1,,,,],[1,1,1,1,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,,1,1,,],[,1,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]],this.O[3]=[[1,1,1,,,,],[1,1,1,1,1,1],[1,1,1,1,1,1],[,1,1,1,,,],[,,1,1,1,1],[,,1,1,1,1],[,,,1,1,,],[,1,1,1,1,,],[1,1,1,1,1,,],[1,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.O[3].length;e++)this.O[3][e].reverse();this.N[4]=[[,1,,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,,,],[1,1,,1,1,1],[1,,,1,1,1],[,,,1,1,1],[,,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]],this.O[4]=[[,1,,1,,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,,,],[1,1,,1,1,1],[1,,,1,1,1],[,,,1,1,1],[,,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,1,1,1,1,,],[,,,,,,]];for(var e=0;e<this.O[4].length;e++)this.O[4][e].reverse();this.P=this.N[this.M],this.Q=this.O[this.M],this.update=function(t){if(!(i.S.R>i.B()||i.T>i.B())){var h=0,s=0;if(h=Math.abs(this.x-i.S.U),s=Math.abs(this.y-i.S.V),!(Math.sqrt(h*h+s*s)>i.W/2)){s<60&&h<i.G/2?(this.rapido=!0,i.S.x<this.x?this.J=!0:this.J=!1):this.rapido=!1,this.U=this.x+this.o/2,this.V=this.y+this.m/2,this.Y=this.dx<0,this.Z=this.dx>0;var a=this.u*(this.falling?.2:1),e=this.v;this.ddx=0,this.ddy=this.z;var r=!1;if(!this.$()||this.muerto||i.is_game_over||(r=!0,i.S._--,i.S.aa()),!this.muerto&&!r){var o=Math.random()>.9,n=Math.random()>.9;if(this.ba()&&!this.jumping){var l=Math.random(),d=l<.1;l>.8?this.jump=!0:this.ca()&&o?this.jump=!0:d?(this.K=i.B()+1e3,this.jump=!1):this.jump=!1}else this.da()&&n?this.jump=!0:this.ca()&&o?this.jump=!0:this.jump=!1;this.J&&i.B()>this.K?(this.ddx=this.ddx-e,this.last_left=!0):this.Y&&(this.ddx=this.ddx+a),!this.J&&i.B()>this.K?(this.ddx=this.ddx+e,this.last_left=!1):this.Z&&(this.ddx=this.ddx-a),this.jump&&!this.jumping&&this.A<i.B()&&(this.ddy=this.ddy-this.w,this.jumping=!0,this.falling=!0,this.A=i.B()+1e3),this.accion&&(i.counter,this.I)}this.x=this.x+t*this.dx,this.y=this.y+t*this.dy;var f=this.C;this.ddx;this.rapido||this.jumping||(f=.5*this.C,.5*this.ddx),this.muerto||r?(this.dx=0,this.dy=i.ea(this.dy+t*this.ddy,-this.D,this.D)):(this.dx=i.ea(this.dx+t*this.ddx,-f,f),this.dy=i.ea(this.dy+t*this.ddy,-this.D,this.D)),(this.Y&&this.dx>0||this.Z&&this.dx<0)&&(this.dx=0);for(var c=(this.y+this.m)%i.ga.fa,u=this.y%i.ga.fa,m=!1,b=this.x+5;b<=this.x+this.o-5;b++)i.ha(b,this.y-2)&&(m=!0);for(var x=!1,y=this.x+5;y<=this.x+this.o-5;y++)i.ha(y,this.y+this.m)&&(x=!0);for(var v=!1,g=this.y+5;g<=this.y+this.m-5;g++)i.ha(this.x-6,g)&&(v=!0);for(var p=!1,_=this.y+5;_<=this.y+this.m-5;_++)i.ha(this.x+this.o+2,_)&&(p=!0);this.dy>=0?(this.y+this.m>i.W&&(this.y=i.W-this.m,this.dy=0,this.jumping=!1,this.falling=!1),x&&(this.dy=0,this.jumping=!1,this.falling=!1,c&&(this.y=20*Math.floor((this.y+this.m)/20)-this.m))):this.dy<0&&m&&u&&(this.dy=0),this.dx>0?this.x+this.o>=this.F?(this.x=10,this.dx=-this.dx):p&&(this.dx=0,this.J=!this.J):this.dx<0&&(this.x<=this.H?(this.x=i.G-this.o,this.dx=-this.dx):v&&(this.dx=0,this.J=!this.J))}}},this.ia=function(h,s,a){var e=this.x+this.dx*h,r=this.y+this.dy*h;i.S.x,i.S.dx,i.S.y,i.S.dy;if(this.$()&&!this.muerto){i.S.ja=i.B()+2e3;var o=this.x+this.o/2,n=this.y+this.m/2;i.ka.push(new t(o,n,!0))}var l=[[,,1,,,,1,1,,,],[,1,1,1,1,1,1,1,1,1,1],[,,1,1,1,1,1,1,1,1,1],[,,,1,,,,,,,],[,,,1,,,,,,,],[,,1,1,,,,,,,]],d=[[,,,1,1,,,,1,,],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,,],[,,,,,,,1,,,],[,,,,,,,1,,,],[,,,,,,,1,1,,]],f=[];f[0]=[[,1,,,1,,]],f[1]=[[,,1,,1,,]],this.muerto?this.L>i.B()?this.last_left?this.q=this.q+1:this.q=this.q-1:this.last_left?this.q=90:this.q=-90:this.jumping?(this.s=1,this.q=0):Math.abs(this.dx)>0?i.la(a,40)<.5?(this.s=0,this.q=-2):(this.s=1,this.q=2):this.q=0,s.save(),s.translate(e,r),s.rotate(this.q*Math.PI/180);var c=this.P,u=0,m=0;this.last_left&&(c=this.Q,d,this.o);var b=0,x=0,y=0;x=Math.abs(this.x-i.S.U),y=Math.abs(this.y-i.S.V),b=Math.sqrt(x*x+y*y);var v=1-b/250,g="rgba(255, 153, 153, "+v+")";if(this.muerto)if(this.L>i.B()){var p=this.L-i.B();p=(410-p)/3,g="rgba(255, 255, 255, 1)";var _=10*(Math.random()-.5),M=10*(Math.random()-.5),S=10*(Math.random()-.5),w=Math.random()*p+this.m/2,B=Math.random()*p+this.m/2,P=Math.random()*p+this.m/2,I=Math.floor(155*Math.random())+100;s.beginPath(),s.fillStyle="rgba(155,155,"+I+",0.1)",s.arc(_,M,w,2*Math.PI,0,!1),s.closePath(),s.fill(),s.beginPath(),s.fillStyle="rgba(155,155,"+I+",0.2)",s.arc(M,S,B,2*Math.PI,0,!1),s.closePath(),s.fill(),s.beginPath(),s.fillStyle="rgba(155,155,"+I+",0.3)",s.arc(S,_,P,2*Math.PI,0,!1),s.closePath(),s.fill(),u=0,m=0}else this.last_left?(d,u=-50,m=20,g="rgba(200, 193, 255, "+v/4+")"):(l,u=-30,m=-50,g="rgba(200, 193, 255, "+v/4+")");i.ma(s,m,u,c,this.t,g),this.muerto||i.ma(s,0,this.m-this.t,f[this.s],this.t,g),s.restore()},this.na=function(){for(var t=this.x;t<this.x+this.o;t++)for(var h=this.y-5;h<this.y+this.m;h++)if(i.ha(t,h))return!0;return!1},this.oa=function(){this.x=i.e(200,i.G-200),this.y=i.e(0,i.W/2)},this.ba=function(){var t=!1;return this.y+this.m>i.W-15?t=!1:this.last_left?!i.ha(this.x-5,this.y+this.m+15)&&i.ha(this.x,this.y+this.m+15)&&(t=!0):!i.ha(this.x+this.o+5,this.y+this.m+15)&&i.ha(this.x+this.o,this.y+this.m+15)&&(t=!0),t},this.ca=function(){var t=!1;if(this.last_left)for(var h=this.y-2*this.m;h<=this.y+this.m/2;h++)i.ha(this.x+this.o+20,h)&&!i.ha(this.x+this.o,h)&&(t=!0);else for(var h=this.y-2*this.m;h<=this.y+this.m/2;h++)i.ha(this.x-20,h)&&!i.ha(this.x,h)&&(t=!0);return t},this.da=function(){var t=!1,h=!1,s=!1;if(this.last_left)for(var a=this.y-this.m;a<=this.y+this.m-5;a++)i.ha(this.x-5,a)&&(h=!0),i.ha(this.x-5,a)||(t=!0);else for(var e=this.y-this.m;e<=this.y+this.m-5;e++)i.ha(this.x+this.o+5,e)&&(s=!0),i.ha(this.x+this.o+5,e)||(t=!0);return t&&(h||s)},this.$=function(){return i.pa(this.x,this.y,this.o,this.m,i.S.x,i.S.y,i.S.o,i.S.m)}},e=function(t,i,s,a,e,r){this.s=0,this.q=0,this.qa=4,this.x=i,this.y=s,this.m=12*this.qa,this.o=6*this.qa+5,this.U=this.x+this.o/2,this.V=this.y+this.m/2,this.dx=0,this.dy=0,this.u=850,this.v=850,this.ra=2500,this.C=220,this.D=550,this.sa=!1,this.z=1e3,this.A=t.B(),this.ja=t.B(),this.w=4e4,this.F=t.G+this.o,this.H=-this.o,this.I=0,this.ta=r,this._=r,this.R=t.B(),this.ua=t.B(),this.va=function(i){if(this._<0&&(this.jump=!0,t.wa(!1)),t.T>t.B())return t.xa.x=30,t.xa.y=t.W-100,void(t.ya=!1);if(!t.ya){for(t.za(t.xa);t.Aa(t.xa);)t.za(t.xa);t.ya=!0}if(!(this.R>t.B())){this.ua>t.B()&&(this._=this._+1,this._>=t.ta&&(this._=this.ta)),t.Ba||this.Ca()&&(t.Da=!0,this.R=t.B()+3e3,this.Ea()),this.Fa()&&this.ua<t.B()&&(this.ua=t.B()+2e3,this.Ga()),this.U=this.x+this.o/2,this.V=this.y+this.m/2,this.Y=this.dx<0,this.Z=this.dx>0;var s=this.u*(this.falling?.2:1),a=this.v;if(this.ddx=0,this.ddy=this.z,this.left?(this.ddx=this.ddx-a,this.sa=!0):this.Y&&(this.ddx=this.ddx+s),this.right?(this.ddx=this.ddx+a,this.sa=!1):this.Z&&(this.ddx=this.ddx-s),this.jump&&!this.jumping&&this.A<t.B()&&(!t.Ha||t.Ia)&&(this.ddy=this.ddy-this.w,this.jumping=!0,this.falling=!0,this.A=t.B()+300),this.accion&&t.counter>this.I&&!t.Ha){this.Ja(),this.I=t.counter+3,t.Ka=t.B()+20;var e=!0,r=this.ra;this.jumping&&(r/=2),this.sa?(e=!1,this.ddx=this.ddx+r):this.ddx=this.ddx-r;var o=this;setTimeout(function(){t.La.push(new h(o.x,o.y-10,-10,-3,e,t,o))},i/3),setTimeout(function(){t.La.push(new h(o.x,o.y+10,10,3,e,t,o))},2*i/3),t.La.push(new h(this.x,this.y,0,0,e,t,this))}var n=10*this.ra,l=this.ra;this.ja-t.B()>1900&&(this.ddx=this.ddx+n*(.5-Math.random()),this.ddy=this.ddy+l*(.5-Math.random())),t.Ha&&(this.dx=800*i,this.sa=!1,t.Ia&&(this.jump=!0,this.dx=1400*i)),this.x=this.x+i*this.dx,this.y=this.y+i*this.dy,this.dx=t.ea(this.dx+i*this.ddx,-this.C,this.C),this.dy=t.ea(this.dy+i*this.ddy,-this.D,this.D),(this.Y&&this.dx>0||this.Z&&this.dx<0)&&(this.dx=0);for(var d=(this.y+this.m)%t.ga.fa,f=this.y%t.ga.fa,c=!1,u=this.x+5;u<=this.x+this.o-5;u++)t.ha(u,this.y-2)&&(c=!0);for(var m=!1,b=this.x+5;b<=this.x+this.o-5;b++)t.ha(b,this.y+this.m)&&(m=!0);for(var x=!1,y=this.y+5;y<=this.y+this.m-5;y++)t.ha(this.x-6,y)&&(x=!0);for(var v=!1,g=this.y+5;g<=this.y+this.m-5;g++)t.ha(this.x+this.o+2,g)&&(v=!0);this.dy>=0?(this.y+this.m>t.W&&(this.y=t.W-this.m,this.dy=0,this.jumping=!1,this.falling=!1),m&&(this.dy=0,this.jumping=!1,this.falling=!1,d&&(this.y=20*Math.floor((this.y+this.m)/20)-this.m))):this.dy<0&&c&&f&&(this.dy=0),this.dx>0?(this.x+this.o>=this.F&&(this.x=10),v&&!t.Ha&&(this.dx=0)):this.dx<0&&(this.x<=this.H&&(this.x=t.G-this.o,this.y=this.y-20),x&&(this.dx=0))}},this.Ma=function(i,h,s,a){t.T>t.B()&&(t.Na?this.Oa():this.Pa()),t.Ha&&(t.Ia?this.Qa():this.Ra());var e=this.x+this.dx*i,r=this.y+this.dy*i,o=[[,1,,,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,,],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[,1,1,1,1,1],[1,1,1,1,1,1],[,,,,,]],n=[[,,,,1],[1,1,1,1,1],[1,1,1,1,1],[,,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1,1],[,,,,,]],l=[[,,1,,,,1,1,,,],[,1,1,1,1,1,1,1,1,1,1],[,,1,1,1,1,1,1,1,1,1],[,,,1,,,,,,,],[,,,1,,,,,,,],[,,1,1,,,,,,,]],d=[[,,,1,1,,,,1,,],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,,],[,,,,,,,1,,,],[,,,,,,,1,,,],[,,,,,,,1,1,,]],f=[];f[0]=[[,,1,,,1]],f[1]=[[,,1,,1,,]],f[2]=[[1,,,1,,,]],f[3]=[[,1,,1,,,]];t.T>t.B()?(this.q*=-1.1,this.q+=-1,opacidad_jugador=300/(t.T-t.B()),opacidad_jugador>1&&(opacidad_jugador=1),this.q=1e3*(opacidad_jugador-1)):this.R>t.B()?(a?(a=-1*a*1.1,this.q=a+-1,h.globalAlpha-=.009):(this.q*=-1.1,this.q+=-1,h.globalAlpha-=.005),opacidad_jugador-=.01):(opacidad_jugador=1,this.jumping?(this.s=1,this.q=0):this.left||this.right||t.Ha?t.la(s,30)<.5?(this.left?this.s=2:this.s=0,this.q=-2):this.left?(this.s=3,this.q=2):(this.s=1,this.q=2):this.q=0),h.save(),h.translate(e+this.o/2,r+this.m/2),radius=t.G/3,h.beginPath(),h.arc(0,0,300,0,2*Math.PI,!1);var c=h.createRadialGradient(0,0,.9*radius,this.o/2,this.m/2,0);if(this.ja-t.B()>1700){var u=Math.random()/2;c.addColorStop(0,"rgba(255, 11, 11, 0)"),c.addColorStop(1,"rgba(255, 11, 11, "+u+")")}else this.ua>t.B()?(c.addColorStop(0,"rgba(122, 255, 122, 0)"),c.addColorStop(1,"rgba(122, 255, 122, 0.2)")):t.Ha||(c.addColorStop(0,"rgba(251, 255, 243, 0)"),c.addColorStop(1,"rgba(251, 255, 243, 0.6)"));h.fillStyle=c,h.fill(),h.rotate(this.q*Math.PI/180);var m=o,b=l,x=-5;this.sa&&(m=n,b=d,x=5-this.o),h.translate(-this.o/2,-this.m/2);var y="rgba(210,228,241,"+opacidad_jugador+")";t.ma(h,0,0,m,this.qa,y),t.ma(h,0,this.m-this.qa,f[this.s],this.qa,y),this.Sa=0;var v="rgba(143,172,192,"+opacidad_jugador+")";if(h.translate(this.o/2.5,this.m/2),h.rotate(this.q*Math.PI/180),t.Ha||t.ma(h,x,0,b,3,v),h.restore(),this.ja>t.B()||this.ua>t.B()){var g=this.ja;this.ua>this.ja&&(g=this.ua);var p=g-t.B(),_=p/2e3,M=2*this.o,S=this._/t.ta;h.fillStyle="rgba(11, 204, 0, "+_+")",S<.8&&(h.fillStyle="rgba(224, 239, 20, "+_+")"),S<.6&&(h.fillStyle="rgba(204, 199, 0, "+_+")"),S<.4&&(h.fillStyle="rgba(239, 92, 20, "+_+")"),S<.2&&(h.fillStyle="rgba(255, 0, 0, "+_+")"),h.fillRect(e-this.o/2,r-10,S*M,5),h.strokeStyle="rgba(255,255,255,"+_+")",h.lineWidth=1,h.strokeRect(e-this.o/2,r-10,M,5)}return this.q},this.Ja=function(){window.disparo_audio.pause(),window.disparo_audio.currentTime=0,window.disparo_audio.play(),window.disparo_audio2.playbackRate=.5,window.disparo_audio2.pause(),window.disparo_audio2.currentTime=0,window.disparo_audio2.play()},this.aa=function(){window.golpe_audio.pause(),window.golpe_audio.currentTime=0,window.golpe_audio.play()},this.Ea=function(){window.levelup_audio2.playbackRate=1,window.levelup_audio2.pause(),window.levelup_audio2.currentTime=0,window.levelup_audio2.play()},this.Ga=function(){},this.Pa=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,1,1,1,1,1,,,1],[1,,,1,1,,1,,1,1,,1,,1,1,1,,1,1,,1,1,,,,,1,,,1,1,,,1],[1,,,1,1,1,1,,1,1,,1,,1,1,,1,,1,,1,1,1,1,,,1,1,,1,1,,,1],[1,,,1,1,,1,,1,1,,1,,1,1,,,,1,,1,1,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,,,,1,1,,,1],[1,,,1,1,,1,,1,1,1,1,,1,1,,,,1,,1,1,1,1,,,,,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-60;t.ma(t.ctx,h,s,i,3,"#ffffff")},this.Oa=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,1,1,1,,1,1,,1,1,,1,,1,1,1,,1,1,,1,1,,1,1,,,1],[1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,,1,1,,1,1,,,1],[1,,,1,1,,,,1,,1,1,,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,1,1,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-60;t.ma(t.ctx,h,s,i,3,"#ffffff")},this.Qa=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,1,1,1,1,,1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,,,1,1,1,1,,,1],[1,,,1,1,1,,1,1,,1,1,,1,,1,1,1,,1,1,,,1,1,,,,1,1,,,,1,1,,,,1,1,,,,1,1,,1,,1,1,,,,,1],[1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,,,1,1,1,1,,1,1,,,,1,1,1,,,1,1,1,,,1,1,,1,,1,1,1,1,,,1],[1,,,1,1,,,,1,,1,1,,1,,1,1,,,,1,,,1,1,1,1,,1,1,,,,1,1,1,,,1,1,1,,,1,1,1,,,1,1,1,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,,,,1,,1,1,,,,1,1,,,,1,1,,,,1,1,,,,,,,1,,,1],[1,,,1,1,,,,1,,1,1,1,1,,1,1,,,,1,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,,,1,1,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,,,,1,1,1,1,,1,1,1,1,,1,,1,1,1,1,,,,,1,1,1,,,1,1,,,,1,1,1,1,,1,,,1,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,,,,,1,1,,,,,1,1,,,,,,,1,1,,1,,1,1,,,,1,1,,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,1,,,,1,1,,,,,1,1,1,1,,,,,1,1,,1,,1,1,,,,1,1,1,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,1,,,,1,1,,,,,1,1,1,1,,,,,1,1,1,,,1,1,,,,1,1,1,1,,,1,1,,,1,1,,1,1,,1],[1,,,1,1,,,,1,1,,,,,1,1,,,,,,,,1,,,,,1,1,,,,1,1,,,,1,1,,1,,,1,1,,,,,,,,,1],[1,,,1,1,1,1,,1,1,1,1,,,1,1,,,,,1,1,1,1,,,,,1,1,,,,1,1,1,1,,1,1,,1,,,1,1,,,1,1,,1,1,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-90;t.ma(t.ctx,h,s,i,3,"#ffffff")},this.Ra=function(){var i=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,,1,1,,,1,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,,1,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,,,,,,,,,,,,,,1],[1,,,1,1,,1,,1,1,1,1,,,,,,,,,,,,,1],[1,,,1,1,1,1,,1,1,,1,1,,1,1,,1,1,,1,1,,,1],[1,,,1,1,1,1,,1,1,,,1,,1,1,,1,1,,1,1,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,1,,,,,,,,,,,,,,,,,,,,,,],[1,1,,,,,,,,,,,,,,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,]],h=this.x+this.o+20,s=this.y-60;t.ma(t.ctx,h,s,i,3,"#ffffff")},this.Ca=function(){var i=t.xa.x+t.xa.o/3,h=t.xa.y+t.xa.o/3,s=t.xa.o/3,a=t.xa.o/3;return t.pa(this.x,this.y,this.o,this.m,i,h,s,a)},this.Fa=function(){if(!t.Ba){if(void 0===t.Ta.x)return!1;return t.pa(this.x,this.y,this.o,this.m,t.Ta.x,t.Ta.y,t.Ta.o,t.Ta.m)}}},r={songData:[{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[1,2,3,4,5,6,7,8,7,9],c:[{n:[122,120,122,110,,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,122,120,122,110,,,,,,,,,,,,,,,,,,,,,,,,,,,,,125,124,125],f:[]},{n:[,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,120,122,120,110,,110,,110,,,,125,124,125,,,125,124,125,,,,,129,127,129,117,,132,134,122],f:[]},{n:[,110,,110,,110,110,110,120,122,120,110,,110,,110,117,116,115,113,119,118,117,116,120,122,120,110,,110,,110],f:[]},{n:[,110,,110,,110,110,110,120,122,120,110,,110,117,116,119,118,117,116,115,114,113,112,110,110,,110,122,,110,110],f:[]},{n:[,110,110,,,,,,110,110,,110,122,,117,116,119,118,121,120,123,124,126,127,110,110,,110,122,,110,110],f:[]},{n:[,110,110,,,,,,110,110,,110,122,,,117,119,113,,,116,111,,,112,112,,112,124,,,124],f:[]},{n:[,124,124,,122,124,125,122,124,,112,,124,,,124,,124,112,,120,119,117,110,,,110,,,,110,110],f:[]},{n:[,,110,,,,110,110,,,110,,,,110,110,,,110,,,,110,,112,,112,,124,,112,124],f:[]},{n:[,,110,,,,110,110,,,110,,,,110,110,,,110,,,,110],f:[]}]},{i:[0,160,128,1,0,160,128,0,1,210,4,7,41,0,0,0,60,4,1,2,255,0,0,32,61,5,32,6],p:[1,2,3,4,5,6,7,8,7,9,10],c:[{n:[134,132,134,122,,122,,134,132,134,122,,134,132,134,122,,122,,134,132,134,122,,132,134,122,,134,132,134,122],f:[]},{n:[,110,,122,120,122,110,,122,120,122,110,,110,,122,120,122,110,,120,122,110,,118,,,,142,,,118],f:[]},{n:[,,118,,142,,,118,118,,,,142,,,118,,,,,142,118,,,118,,,,142,,,118],f:[]},{n:[118,,,,142,,,118,118,118,,,142,,118,,118,,,118,142,,,,118,118,,,142,,118,118],f:[]},{n:[,118,118,,142,,,,118,118,,118,142,,,,142,118,,,142,118,,,118,118,,118,142,,118,118],f:[]},{n:[,118,118,,142,,,,118,118,,118,142,,,118,142,118,,,142,118,,,118,118,,118,142,,,118],f:[]},{n:[,118,118,,142,,118,,118,,,,142,,118,,118,118,,,142,118,118,118,,,118,,142,,118,118],f:[]},{n:[,,118,,142,,118,118,,,118,,142,,118,118,,,118,,142,,118,,118,,118,,142,,118,118],f:[]},{n:[,,118,,142,,118,118,,,118,,142,,118,118,,,118,,142,,118,118,,,,,118],f:[]},{n:[118,,,,118,,,,154],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,2,1,1,1,1,1,1,1,1],c:[{n:[154,,154,,154,,154,,154,,154,,154,,154,,154,,154,,154,,154],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,154,,154,,154,,154],f:[]}]},{i:[0,255,128,0,0,154,128,9,0,0,7,5,52,0,0,0,61,0,0,2,255,0,0,32,47,3,163,4],p:[,2,3,4,5,6,7,8,9,10],c:[{n:[],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,156,,,155,,,153],f:[]},{n:[,,,,,,151,153,149,,,,,,,,151,,,,,,,,149,,,148,,,146],f:[]},{n:[,,,,,,144,146,143,,,,,,,,139,,,,137,,,,141,,,,,,140],f:[]},{n:[,,,,137,,,,,,140,137,136,,141,140,143,142,145,144,147,148,150,151,141,,,,,,140],f:[]},{n:[,,,,141,,143,,,,144,,,,146,,,,148,149,152,,,,148,,,146,,,144],f:[]},{n:[143,,,,,,141,143,144,,,,,146,144,143,,,,,,,,144,,,,,,,,143],f:[]},{n:[,,143,,,,141,,,,141,,,,,137,141,137,136,,,,,,153,,,149,,,148],f:[]},{n:[148,,,,,,146,148,149,,,,,153,149,148,,,,,,,,134,,,,,137,,,128],f:[]},{n:[,,,,137,,,127,,,,,137,,,125,,,,,124,,,123],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,131,7],p:[,,,,,,,,,1,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],f:[]},{n:[,,,,,,,,110,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,117,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,122],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:5513,patternLen:32,endPattern:12},o={songData:[{i:[0,160,128,1,0,160,128,35,1,0,0,24,41,156,4,0,60,4,1,2,255,118,0,32,61,5,53,5],p:[1],c:[{n:[140],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},n={songData:[{i:[0,160,128,1,0,160,128,3,1,0,148,31,41,106,5,0,60,4,1,2,255,117,0,32,61,5,57,4],p:[1],c:[{n:[154],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},l={songData:[{i:[3,170,128,0,3,156,128,0,1,218,4,24,59,0,0,1,55,4,1,2,67,115,124,190,67,6,127,6],p:[1],c:[{n:[128],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]}],rowLen:3308,patternLen:32,endPattern:2},d=function(){var t,i,h,s,a,e=function(t){return Math.sin(6.283184*t)},r=function(t){return t%1*2-1},o=function(t){return t%1<.5?1:-1},n=function(t){var i=t%1*4;return i<2?i-1:3-i},l=function(t){return.003959503758*Math.pow(2,(t-128)/12)},d=function(t,i,h){var s,a,e,r,o,n,d,c=f[t.i[0]],u=t.i[1],m=t.i[3],b=f[t.i[4]],x=t.i[5],y=t.i[8],v=t.i[9],g=t.i[10]*t.i[10]*4,p=t.i[11]*t.i[11]*4,_=t.i[12]*t.i[12]*4,M=1/_,S=t.i[13],w=h*Math.pow(2,2-t.i[14]),B=new Int32Array(g+p+_),P=0,I=0;for(s=0,a=0;s<g+p+_;s++,a++)a>=0&&(S=S>>8|(255&S)<<4,a-=w,n=l(i+(15&S)+t.i[2]-128),d=l(i+(15&S)+t.i[6]-128)*(1+8e-4*t.i[7])),e=1,s<g?e=s/g:s>=g+p&&(e-=(s-g-p)*M),r=n,m&&(r*=e*e),P+=r,o=c(P)*u,r=d,y&&(r*=e*e),I+=r,o+=b(I)*x,v&&(o+=(2*Math.random()-1)*v),B[s]=80*o*e|0;return B},f=[e,o,r,n];this.init=function(e){t=e,i=e.endPattern-2,h=0,s=e.rowLen*e.patternLen*(i+1)*2,a=new Int32Array(s)},this.generate=function(){var r,o,n,l,c,u,m,b,x,y,v,g,p,_,M=new Int32Array(s),S=t.songData[h],w=t.rowLen,B=t.patternLen,P=0,I=0,j=!1,T=[];for(n=0;n<=i;++n)for(m=S.p[n],l=0;l<B;++l){var q=m?S.c[m-1].f[l]:0;q&&(S.i[q-1]=S.c[m-1].f[l+B]||0,q<15&&(T=[]));var E=f[S.i[15]],L=S.i[16]/512,W=Math.pow(2,S.i[17]-9)/w,k=S.i[18],G=S.i[19],R=43.23529*S.i[20]*3.141592/44100,N=1-S.i[21]/255,D=1e-5*S.i[22],U=S.i[23]/32,C=S.i[24]/512,z=6.283184*Math.pow(2,S.i[25]-9)/w,O=S.i[26]/255,Z=S.i[27]*w;for(v=(n*B+l)*w,c=0;c<4;++c)if(u=m?S.c[m-1].n[l+c*B]:0){T[u]||(T[u]=d(S,u,w));var A=T[u];for(o=0,r=2*v;o<A.length;o++,r+=2)M[r]+=A[o]}for(o=0;o<w;o++)b=2*(v+o),y=M[b],y||j?(g=R,k&&(g*=E(W*b)*L+.5),g=1.5*Math.sin(g),P+=g*I,p=N*(y-I)-P,I+=g*p,y=3==G?I:1==G?p:P,D&&(y*=D,y=y<1?y>-1?e(.25*y):-1:1,y/=D),y*=U,j=y*y>1e-5,x=Math.sin(z*b)*C+.5,_=y*(1-x),y*=x):_=0,b>=Z&&(_+=M[b-Z+1]*O,y+=M[b-Z]*O),M[b]=0|_,M[b+1]=0|y,a[b]+=0|_,a[b+1]+=0|y}return++h/8},this.createWave=function(){var t=2*s-8,i=t-36,h=new Uint8Array(44+2*s);h.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]);for(var e=0,r=44;e<s;++e){var o=a[e];o=o<-32767?-32767:o>32767?32767:o,h[r++]=255&o,h[r++]=o>>8&255}return h},this.getData=function(t,i){for(var h=2*Math.floor(44100*t),s=new Array(i),e=0;e<2*i;e+=1){var r=h+e;s[e]=t>0&&r<a.length?a[r]/32768:0}return s}},f=function(){this.B=function(){return(new Date).getTime()},this.e=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)},this.Ua=function(t){var i=Math.floor(10*Math.random())+60;t&&(i*=3);var h=[],s=4,a=3,e=!1,r=0,o=0,n=15,l=42;t&&(l=25,n=1);for(var d=0;d<30;d++)for(var f=0;f<42;f++){var c=Math.random();if(f>l);else if(i>0&&d>=s&&f>=o&&c>.3||e){if(r<=a){h.push(1),e=!0,r++;continue}e=!1,r=0,i--,o=(f+5)%l,s=d+3}else!1,e=!1,r=0,a=Math.floor(Math.random()*n)+5;h.push(0)}var u=Math.floor(10*Math.random())+1;t&&(u*=3);for(var m=3,b=42,x=!1,y=0,f=41;f>=0;f--)for(var d=29;d>=0;d--){var c=Math.random(),v=f+42*d;if(u>0&&(f<b&&c>.4&&1===h[v]||x)){if(y<=m){h[v]=1,x=!0,y++;continue}x=!1,y=0,u--,b=f-(Math.floor(10*Math.random())+4)}else x=!1,y=0,m=Math.floor(5*Math.random())+2}for(var d=0;d<6;d++)for(var f=25;f<30;f++){var v=d+42*f;h[v]=0}return h},this.Va=!1,this.Wa=!1,this.Ha=!1,this.T=!1,this.Xa=220,this.Ya&&(this.Xa=2200),this.ga={},this.ga.datos,this.ga.Za=20,this.ga.fa=42,this.ga.$a=30,this._a=0,this.ab=[],this.G=840,this.W=600,this.bb=840/this.ga.Za,this.cb=600/this.ga.Za,this.db=800,this.KEY={ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,X:88},this.eb=60,this.fps_interval=1e3/this.eb,this.fb=1/60,this.gb=document.getElementById("canvas"),this.ctx=this.gb.getContext("2d"),this.gb.width=this.G,this.gb.height=this.W,this.ka=[],this.La=[],this.hb=[],this.ib=this.B(),this.Ka=this.B(),this.Da=!1,this.jb=0,this.ta=250,this.kb=this.ta,this.lb=this.B(),this.mb=0,this.nb=2500,this.ob=function(){return"ontouchstart"in document.documentElement},this.pb=function(t,i,h){switch(i){case this.KEY.LEFT:return t.preventDefault(),this.S.left=h,!1;case this.KEY.RIGHT:return t.preventDefault(),this.S.right=h,!1;case this.KEY.UP:return t.preventDefault(),this.S.jump=h,!1;case this.KEY.DOWN:return t.preventDefault(),this.S.down=h,!1;case this.KEY.ENTER:case this.KEY.X:return t.preventDefault(),this.S.accion=h,!1}},this.ea=function(t,i,h){return Math.max(i,Math.min(h,t))},this.pa=function(t,i,h,s,a,e,r,o){return!(t+h-1<a||a+r-1<t||i+s-1<e||e+o-1<i)},this.qb=function(t,i,h,s,a){return(t-h)*(t-h)+(i-s)*(i-s)<=a*a},this.la=function(t,i){var h=i/2,s=t%i;return s<h?s/h:1-(s-h)/h},this.rb=function(t,i){return this.ga.datos[t+i*this.ga.fa]},this.sb=function(t){return t*this.ga.fa},this.tb=function(t){return Math.floor(t/this.ga.Za)},this.ha=function(t,i){return this.rb(this.tb(t),this.tb(i))},this.ub=function(t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},this.ma=function(t,i,h,s,a,e,r){if(t.fillStyle=e||"#ffffff",r)var o=this.ub(e);for(var n=i,l=h,d=0,f=0;f<s.length;f++){for(var c=s[f],u=0;u<c.length;u++)if(c[u])if(r){var m=0,b=0,x=0;b=Math.abs(n+u*a-this.S.U),x=Math.abs(l-this.S.V),m=Math.sqrt(b*b+x*x);var y=1-m/(2.5*this.Xa);if(m>2.5*this.Xa)continue;t.fillStyle="rgba("+o.r+","+o.g+","+o.b+","+y+")",t.fillRect(n+u*a,l,a,a)}else t.fillRect(n+u*a,l,1.1*a,1.1*a);d=Math.max(d,c.length*a),l+=a}n+=a+d},this.vb=function(t,i){this._a=0,this.ab=[],this.ka=[],this.Ba=t,this.ga.datos=this.Ua(this.Ba),this.ctx.globalAlpha=1;var h=1500;if(i&&(h=i),this.T=this.B()+h,this.S=new e(this,40,this.W-100,1e3,3e4,this.kb),this.Ba)this.Na=new Boss(this,this.G/1.5,240,800,3e4,1);else{for(this.mb++,this.xa={},this.xa.o=this.S.m,this.xa.m=this.S.m,this.za(this.xa);this.Aa(this.xa);)this.za(this.xa);if(this.Ta={},Math.random()>.6)for(this.Ta.o=this.S.m/2,this.Ta.m=this.S.m/2,this.wb(this.Ta);this.xb(this.Ta);)this.wb(this.Ta);var s=1+2*this.mb,r=5+2*this.mb;this._a=this.e(s,r);for(var o=this.e(0,4),n=0;n<this._a;n++){for(var l=this.e(200,this.G-200),d=this.e(0,this.W/2),f=new a(this,l,d,o);f.na();)f.oa();this.ab.push(f)}}},this.Aa=function(t){for(var i=t.x;i<t.x+t.o;i++)for(var h=t.y-5;h<t.y+t.m;h++)if(this.ha(i,h))return!0;return!1},this.za=function(t){t.x=this.e(this.S.o,this.G-this.S.o),t.y=this.e(0,this.W/1.5)},this.xb=function(t){for(var i=t.x;i<t.x+t.o;i++)for(var h=t.y-5;h<t.y+t.m;h++)if(this.ha(i,h))return!0;return!1},this.wb=function(t){t.x=this.e(this.S.o,this.G-this.S.o),t.y=this.e(0,this.W/1.5)},this.yb=function(){},this.zb=function(){this.Ia?game_over=[[1,1,,1,1,,1,1,1,1,,1,1,,1,,,,1,1,,1,,1,,1,1,,1,1,,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,1,1,,1,,1,,,,,1,1,,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,1,1,,1,,1,,1,1,,1,1,1,,1,,,1,,1,,1],[,1,1,1,,,1,1,,1,,1,1,,1,,,,,1,,1,,1,,1,1,,1,1,,1,1,,,,,,,,],[,1,1,1,,,1,1,1,1,,1,1,1,1,,,,,,1,,1,,,1,1,,1,1,,,1,,,1,,1,,1]]:game_over=[[1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,1,1,,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1],[1,1,,,,1,1,,1,,1,1,1,1,,1,1,,,,,,1,1,,1,,1,1,,1,,1,1,,,,1,1,,1],[1,1,,,,1,1,1,1,,1,1,,1,,1,1,1,,,,,1,1,,1,,1,1,,1,,1,1,1,1,,1,1,1,1],[1,1,,1,,1,1,,1,,1,1,,1,,1,1,,,,,,1,1,,1,,,1,,1,,1,1,,,,1,1,1],[1,1,1,1,,1,1,,1,,1,1,,1,,1,1,1,1,,,,1,1,1,1,,,,1,,,1,1,1,1,,1,1,,1]],
play_again=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,,1,1,1,1,,1,1,,,,1,1,1,1,,1,,,1,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,1,1,,,1,,1],[1,,1,1,,1,,1,1,,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,,,1,1,,1,,1,1,,1,1,,,1,,1],[1,,1,1,1,1,,1,1,,,,1,1,1,1,,,1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,1,1,,1,1,1,,1,,1],[1,,1,1,,,,1,1,,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,1,1,,1,1,,1,1,,1],[1,,1,1,,,,1,1,1,1,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,1,1,,1,1,,1,,1,1,,1,1,,,1,,1],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],this.ma(this.ctx,this.G/2-330,290,game_over,16,"rgba(255,255,255,1)"),this.ma(this.ctx,this.G/2-130,400,play_again,6,"rgba(255,255,255,1)"),document.getElementById("play_again").style.display="block"},this.wa=function(i){var h=this;this.ka.push(new t(this.G/2,this.W/2,!0,!0,i)),window.setTimeout(function(t){h.Ha=!0,h.Ia=i},2e3)},this.va=function(t){if(this.kb=this.S._,this.Ab(),this.Da&&this.S.R<this.B()){this.Da=!1,this.ctx.globalAlpha=1,this.jb++;var i=!1;this.jb>5&&Math.random()>.7&&(i=!0),this.vb(i)}if(this.S.va(t),this.Ba)this.Na.va(t);else for(var h=0;h<this.ab.length;h++)this.ab[h].update(t)},this.Ab=function(){this.lb<this.B()&&(this.eb=60,this.fps_interval=1e3/this.eb)},this.Bb=function(t,i,h){if(t.clearRect(0,0,this.G,this.W),this.Ha)return this.Xa=this.G,this.Cb(t,h),this.Db(t,h),this.zb(t),void this.Eb(t);this.Eb(t),this.Fb(t,h),this.Cb(t,h),this.Ba||(this.Gb(t),this.Hb(t)),this.Ib(t,h,!0),this.Jb(t),this.Kb(t),this.Ba&&this.Lb(t),this.Db(t,h)},this.Mb=function(){if(this.Ka>this.B()){var t=4;this.ib>this.B()&&(t*=10),this.ctx.save(),this.dx_shacke||this.dy_shacke?(this.ib>this.B()&&(this.dx_shacke=(Math.random()-.5)*t,this.dy_shacke=(Math.random()-.5)*t),this.Na?this.Na.Nb>this.B()&&(this.dx_shacke=(Math.random()-.5)*t*2,this.dy_shacke=(Math.random()-.5)*t*2):(this.dy_shacke=-.9*this.dy_shacke,this.dx_shacke=-.9*this.dx_shacke)):(this.dx_shacke=(Math.random()-.5)*t,this.dy_shacke=(Math.random()-.5)*t),this.ctx.translate(this.dx_shacke,this.dy_shacke)}else this.dx_shacke=0,this.dy_shacke=0},this.Ob=function(){this.ctx.restore()},this.Ib=function(t,i,h){var s,a,e=0;this.S.V-this.Xa>0&&(e=Math.floor((this.S.V-this.Xa)/this.ga.Za));var r=Math.floor(this.W/this.ga.Za);this.S.V+this.Xa<this.W&&(r=Math.floor((this.S.V+this.Xa)/this.ga.Za));var o=0;this.S.U-this.Xa>0&&(o=Math.floor((this.S.U-this.Xa)/this.ga.Za));var n=Math.floor(this.G/this.ga.Za);this.S.U+this.Xa<this.G&&(n=Math.floor((this.S.U+this.Xa)/this.ga.Za));var l=0,d=0,f=0;for(a=e;a<=r;a++)for(s=o;s<=n;s++)this.rb(s,a)&&(d=Math.abs(s-Math.floor(this.S.U/this.ga.Za)),f=Math.abs(a-Math.floor(this.S.V/this.ga.Za)),l=Math.sqrt(d*d+f*f),opacidad=1/l*2.5,h||(opacidad/=2),t.fillStyle="rgba(250,250,250,"+opacidad+")",t.fillRect(s*this.ga.Za,a*this.ga.Za,this.ga.Za,this.ga.Za))},this.Gb=function(t){radius=this.xa.o;var i=this.xa.x+this.xa.o/2,h=this.xa.y+this.xa.m/2,s=0,a=0;if(s=Math.abs(i-this.S.U),a=Math.abs(h-this.S.V),!(Math.sqrt(s*s+a*a)>this.Xa)){var e=t.createRadialGradient(i,h,0,i,h,radius);t.fillStyle=e;for(var r=-2;r<2;r++){var o=i+(.5-Math.random())*r*15,n=h+(.5-Math.random())*r*15,l=this.e(110,255);t.beginPath(),t.arc(o,n,radius,0,2*Math.PI,!1),e.addColorStop(0,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0)"),e.addColorStop(.6,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0)"),e.addColorStop(.8,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0.2)"),e.addColorStop(1,"rgba("+Math.floor(l/1.2)+", "+l+", "+l+", 0.3)"),t.fill()}t.beginPath(),t.arc(i,h,1.2*radius,0,2*Math.PI,!1);var e=t.createRadialGradient(i,h,0,i,h,1.2*radius);e.addColorStop(0,"rgba(209,127,140, 0.2)"),e.addColorStop(.8,"rgba(209,127,140, 0.1)"),e.addColorStop(1,"rgba(209,127,140, 0)"),t.fillStyle=e,t.fill()}},this.Hb=function(t){var i=0,h=0,s=0,a=this.Ta.x+this.Ta.o/2,e=this.Ta.y+this.Ta.m/2;h=Math.abs(a-this.S.U),s=Math.abs(e-this.S.V),i=Math.sqrt(h*h+s*s);var r=this.S.ua-this.B();if(!(r<0))return r/=1e3,void(r<.5?this.Ta={}:(t.strokeStyle="#ffffff",t.lineWidth=20*r+10,lejos_quitar=50*(1-r),t.strokeRect(this.Ta.x-lejos_quitar,this.Ta.y-lejos_quitar,this.Ta.m+2*lejos_quitar,this.Ta.m+2*lejos_quitar)));if(r=1,!(i>this.Xa)){var o=this.la(this.counter,80),n=this.la(this.counter,60),l=5*o+2,d=10*n;t.fillStyle="rgba(255,110,110,"+((1-o)/2+.5*r/2)+")";var f=this.Ta.x,c=this.Ta.y+this.Ta.m/3;t.fillRect(f,c,this.Ta.o,this.Ta.m/3);var u=this.Ta.x+this.Ta.m/3,m=this.Ta.y;t.fillRect(u,m,this.Ta.o/3,this.Ta.m),t.strokeStyle="rgba(255,255,155,"+(o/7+.1*r/2)+")",t.lineWidth=8,t.strokeRect(this.Ta.x-l,this.Ta.y-l,this.Ta.m+2*l,this.Ta.m+2*l),t.strokeStyle="rgba(133,200,133,"+(o/7+.1*r/2)+")",t.lineWidth=15,t.strokeRect(this.Ta.x-d,this.Ta.y-d,this.Ta.m+2*d,this.Ta.m+2*d)}},this.Pb=0,this.Lb=function(i){if(this.Na.Nb>this.B()){var h=this.Na.Nb-this.B(),s=Math.floor(h/this.nb*40);s=40-s;this.Pb=s%20,this.Pb>10&&(this.Pb=20-this.Pb);var a=9*this.Pb,e=this.G/40*2,r=this.G/40*s,o=i.createLinearGradient(0,this.W-100,0,this.W);o.addColorStop(0,"rgba(186,186,186,0.3)"),o.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=o;var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=r;if(i.fillRect(this.Na.x-r+l,this.W-a+15+n,e,a+n),r=this.G/40*(s-2),alto_ola_n=.7*a+n,i.fillRect(this.Na.x-r+n,this.W-alto_ola_n+15+l,e,alto_ola_n+l),r=this.G/40*(s-4),alto_ola_n=.4*a+l,i.fillRect(this.Na.x-r+10*(Math.random()-.5),this.W-alto_ola_n+5,e,alto_ola_n),r=this.G/40*(s+2),alto_ola_n=.7*a+d,i.fillRect(this.Na.x-r+n,this.W-alto_ola_n+15,e,alto_ola_n),r=this.G/40*(s+4),alto_ola_n=.4*a+l,i.fillRect(this.Na.x-r+d,this.W-alto_ola_n+15,e,alto_ola_n),x_empieza_terremoto=this.Na.x-f+l,x_final_terremoto=this.Na.x-r+d,this.S.U<x_empieza_terremoto&&this.S.U>x_final_terremoto&&this.S.V>this.W-100){this.S._=this.S._-5,this.S.aa();for(var c=0;c<10;c++)this.ka.push(new t(this.S.U,this.S.V,!0));this.S.ja=this.B()+2200}}},this.Db=function(t,i){this.S.Ma(i,t,this.counter)},this.Fb=function(t,i){for(var h=0,s=0,a=0;a<this.ab.length;a++)h=Math.abs(this.ab[a].x-this.S.U),s=Math.abs(this.ab[a].y-this.S.V),distancia_jugador=Math.sqrt(h*h+s*s),distancia_jugador<this.Xa&&this.ab[a].ia(i,t,this.counter)},this.Cb=function(t,i){this.Ba&&this.Na.Qb(i,t,this.counter)},this.Eb=function(t){if(0!==this.ka.length)for(var i=0;i<this.ka.length;i++){var h=this.ka[i],s=h.a;if(0===s.length)return void this.ka.splice(i,1);for(var a=s.slice(),e=0;e<s.length;e++){var r=s[e],o=0,n=0,l=0;if(n=Math.abs(r.x-this.S.U),l=Math.abs(r.y-this.S.V),o=Math.sqrt(n*n+l*l),this.Ha&&r.final)a.splice(e,1);else if(!(o>300)){var d=(1-o/150)*r.opacidad,f=!1;r.xv>0?r.max_x-r.x<0&&(f=!0):r.x-r.max_x<0&&(f=!0),r.yv>0?r.max_y-r.y<0&&(f=!0):r.y-r.max_y<0&&(f=!0),f||(d*=20),t.beginPath(),t.arc(r.x,r.y,r.size,2*Math.PI,0,!1),t.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+d+")",t.fill(),r.size<=2||f||(r.x+=r.xv,r.y+=r.yv,r.size-=.1)}}h.a=a}},this.Jb=function(i){for(var h=0;h<this.La.length;h++){var s=this.La[h],a=8*s.size,e=0,r=0,o=0;if(r=Math.abs(s.x-this.S.U),o=Math.abs(s.y-this.S.V),(e=Math.sqrt(r*r+o*o))<1.2*this.Xa){if(this.Ba){if(this.pa(this.Na.x,this.Na.y,this.Na.o,this.Na.m,s.x-a/2,s.y-a/2,a,a)){var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=45*Math.random(),c=45*Math.random(),u=45*Math.random(),m=Math.floor(155*Math.random())+100;i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+n,s.y+l,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+l,s.y+d,c,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+d,s.y+n,u,2*Math.PI,0,!1),i.closePath(),i.fill(),this.La.splice(h,1),this.Na.Rb=this.B()+400;continue}}else for(var b=0;b<this._a;b++)if(!this.ab[b].muerto&&this.B()>this.ab[b].L&&this.pa(this.ab[b].x,this.ab[b].y,this.ab[b].o,this.ab[b].m,s.x-a/2,s.y-a/2,a,a)){this.ib=this.B()+200;var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=45*Math.random(),c=45*Math.random(),u=45*Math.random(),m=Math.floor(155*Math.random())+100;i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+n,s.y+l,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+l,s.y+d,c,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",1)",i.arc(s.x+d,s.y+n,u,2*Math.PI,0,!1),i.closePath(),i.fill();var x=this.ab[b].x+this.ab[b].o/2,y=this.ab[b].y+this.ab[b].m/2;this.ka.push(new t(x,y,!1)),this.La.splice(h,1),this.ab[b].L=this.B()+400,this.ab[b].muerto=!0}else;if(this.ha(s.x,s.y)||this.ha(s.x-5,s.y)||this.ha(s.x+5,s.y)||this.ha(s.x-10,s.y)||this.ha(s.x+10,s.y)||this.ha(s.x-15,s.y)||this.ha(s.x+15,s.y)){var n=10*(Math.random()-.5),l=10*(Math.random()-.5),d=10*(Math.random()-.5),f=45*Math.random(),c=45*Math.random(),u=45*Math.random(),m=Math.floor(255*Math.random());i.beginPath(),i.fillStyle="rgba(255,"+m+",0,0.1)",i.arc(s.x+n,s.y+l,f,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",0.1)",i.arc(s.x+l,s.y+d,c,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(255,255,"+m+",0.1)",i.arc(s.x+d,s.y+n,u,2*Math.PI,0,!1),i.closePath(),i.fill(),this.La.splice(h,1);continue}1===s.size&&(i.beginPath(),i.fillStyle="rgba(255,255,255,0.4)",i.arc(s.x,s.y,5*a,2*Math.PI,0,!1),i.closePath(),i.fill());var v=1-e/(1.2*this.Xa),g=1.14*a;i.beginPath();var p=1;s.xv<0&&(p=-1),i.fillStyle="rgba(255,255,0,"+v/24+")",i.arc(s.x,s.y,.8*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,20,"+v/20+")",i.arc(s.x+2*p,s.y,.85*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,40,"+v/16+")",i.arc(s.x+4*p,s.y,.9*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,60,"+v/12+")",i.arc(s.x+6*p,s.y,.92*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,80,"+v/8+")",i.arc(s.x+8*p,s.y,.94*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,100,"+v/4+")",i.arc(s.x+10*p,s.y,.96*g,2*Math.PI,0,!1),i.fillStyle="rgba(255,255,120,"+v+")",i.arc(s.x+12*p,s.y,.98*g,2*Math.PI,0,!1),i.closePath(),i.fill(),i.beginPath(),i.fillStyle="rgba(250,250,250,"+v/2+")",i.arc(s.x+12*p,s.y,g,2*Math.PI,0,!1),i.arc(s.x+14*p,s.y,g,2*Math.PI,0,!1),i.closePath(),i.fill()}s.x>this.G||s.x<0?this.La.splice(h,1):(s.x+=s.xv,s.y+=s.yv,s.size-=.004)}},this.Kb=function(i){for(var h=0;h<this.hb.length;h++){var s=this.hb[h],a=100*s.size;s.xv<0&&-1;var e=!0;if(s.L>this.B()){var r=10*(Math.random()-.5),o=10*(Math.random()-.5),n=(Math.random(),80*Math.random());if(this.qb(this.S.U,this.S.V,s.x,s.y,n)&&!s.Sb){this.S._-=5,this.S.aa();for(var h=0;h<10;h++)this.ka.push(new t(this.S.U,this.S.V,!0));this.S.ja=this.B()+2e3}var l=Math.floor(255*Math.random());i.beginPath(),i.fillStyle="rgba(0,0,"+l+",0,0.1)",i.arc(s.x+r+a/2,s.y+o+a/2,n,2*Math.PI,0,!1),i.closePath(),i.fill(),e=!1}else s.Tb&&(s.Sb=!0);if(s.Sb)this.hb.splice(h,1);else{(this.ha(s.x,s.y)||this.ha(s.x-5,s.y)||this.ha(s.x-10,s.y)||this.ha(s.x,s.y-5)||this.ha(s.x,s.y-10)||this.ha(s.x,s.y+5)||this.ha(s.x,s.y+10)||this.ha(s.x,s.y+20)||this.ha(s.x,s.y+30)||this.ha(s.x,s.y+40)||this.ha(s.x,s.y+50)||this.pa(this.S.x,this.S.y,this.S.o,this.S.m,s.x-a/2,s.y-a/2,a,a))&&!s.Tb&&(s.L=this.B()+500,s.Tb=!0);var d=[[,,,,,,,],[,,,,,,,],[,,,1,1,,,],[,1,1,1,1,,,],[1,1,1,1,1,,,],[1,1,1,1,1,1,1,1],[,,,,,,,],[,,,,,,,]];i.beginPath(),i.fillStyle="rgba(250,0,0,0.01)",i.arc(s.x,s.y,a,2*Math.PI,0,!1),i.closePath(),i.fill();var f=s.x+8*d[0].length/2,c=s.y+8*d[0].length/2;s.x,d[0].length,s.y,d[0].length;i.save(),i.translate(f,c),i.rotate(s.q*Math.PI/180);var u=-8*d[0].length/2;i.arc(0,0,70,0,2*Math.PI,!1);var m=i.createRadialGradient(0,0,70,0,0,0);m.addColorStop(0,"rgba(151, 110, 143, 0)"),m.addColorStop(1,"rgba(151, 110, 143, 0.6)"),i.fillStyle=m,i.fill();var b="rgba(251, 110, 143, 0.7)";if(!e){b="rgba(251, 110, 143, "+(s.L-this.B())/2500+")"}this.ma(i,u,u,d,8,b),i.restore(),s.x>this.G||s.x<0?this.hb.splice(h,1):e&&(s.x+=s.xv,s.y+=s.yv,s.q+=s.xv)}}},this.Ub=function(t){var i=[[1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,1,,,,1,1,1,1,,1,1,,,1,,1,1,1,,,,,1,1,1,1,,1,1,,,1,,1,1,1,1,,,1,1,1,1,,,1,1,,,1,1],[1,1,,,,1,1,,1,,1,1,,,,,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,,1,,,,1,1,,1,,1,1,,,1,,1,1,,,,,1,1,,1,,,,1,1,1,1,,],[1,1,,,,1,1,,1,,1,1,1,1,,,1,1,,,,,1,1,,1,,1,1,1,,1,,1,1,,1,,,,1,1,,1,,1,1,1,,1,,1,1,,1,1,,1,1,1,,,,,,1,1,,,],[1,1,,,,1,1,,1,,,,1,1,,,1,1,,,,,1,1,1,1,,1,1,,1,1,,1,1,,1,,,,1,1,1,1,,1,1,,1,1,,1,1,,,1,,1,1,,1,,,,,1,1,,,],[1,1,1,1,,1,1,1,1,,1,1,1,1,,,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,1,,,,,1,1,,1,,1,1,,,1,,1,1,1,1,1,,1,1,,,1,,,,1,1,,,]],h=this.G/2-8*i[0].length/2,s=[[1,1,,,,1,1,1,1,,1,1,1,1,,1,1,1,,,1,1,,1,1,,,1,,1,1,1,1,,,,,,,,,],[1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,,,,1,1,,,1,,1,1,,,,,,,,,,,],[1,1,,,,1,1,,1,,1,1,1,1,,1,1,,1,,1,1,,1,1,1,,1,,1,1,,1,1,,,,,,,,],[1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,1,1,,1,1,,1,1,,1,1,,,1,,,,,,,,],[1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,1,,,1,1,,1,1,,,1,,1,1,1,1,1,,1,,1,,1,,]],a=this.G/2-4*s[0].length/2;this.ma(t,h,180,i,8);var e=this.la(this.counter,60),r="rgba(255,255,255,"+e+")";if(this.ma(t,a,260,s,4,r),!this.ob()){var o=[[1,1,1,1,,1,1,1,1,,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,,1,1,1,1,,,1,1,1,1,,1,1,1,1,,,1,1,,,,1,,1,1,1,1,,1,1,,1,,1,1,1,1,,,,,,,1,,,,1,,,1,1,1,1,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1,,1,1,1,1],[1,1,,1,,1,1,,1,,,1,1,,1,,,1,1,,1,,1,1,,1,,1,,1,1,,,,,,1,1,,,1,1,,1,,,1,1,1,,1,1,,1,1,,1,,1,1,,1,,1,1,,,,,,,,,,1,,1,,,,,1,1,,,1,1,,1,,,1,1,,,,1,1,,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,,1,,1,1,1,1,,,1,1,1,1,,,1,1,,1,,1,1,,1,,1,,1,1,1,1,,,,1,1,,,1,1,,1,,,1,1,,1,,1,,1,1,,1,,1,1,,1,,1,1,1,,,,1,1,,,,,1,,,,,,1,1,,,1,1,,1,,,1,1,1,1,,1,1,1,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,1,1,,1,1,,1,,,1,1,,1,,,1,1,,1,,,1,1,1,1,,,,,,1,,,,1,1,,,1,1,,1,,,1,1,,,,1,,1,1,,1,,,1,,1,,1,1,,,,,,,,,,1,,1,,,,,1,1,,,1,1,,1,,,,,,1,,1,1,,1,,1,1,,1,,1,1,,1,,,1,1],[1,1,,1,,1,1,,,1,,1,1,,,1,,1,1,1,1,,,,1,1,,,,1,1,1,1,,,,1,1,,,1,1,1,1,,,1,1,,,,1,,1,1,1,1,,,,1,,,1,1,1,1,,,,,,,1,,,,1,,,,1,1,,,1,1,1,1,,,1,1,1,1,,1,1,,1,,1,1,1,1,,1,1,1,1,,,1,1]],n=this.G/2-2.5*o[0].length/2;this.ma(t,n,550,o,2.5)}},this.Vb=function(t,i){i.fillRect((this.G-200)/2,this.W/2-50,200*t,80),i.strokeStyle="#ffffff",i.lineWidth=10,i.strokeRect((this.G-200)/2,this.W/2-50,195,80)},this.Wb=0,this.Xb=this.B()+5e3,this.Yb=this.B(),this.Zb=!1,this.$b=function(t,i){if(this.Yb<this.B()&&this.Zb)return this.vb(!1,1800),this.yb(),window.audio.play(),void(this.Va=!0);this.Zb||(this._b=this.G/2-200+2*this.counter),this.S=new e(this,this._b,this.W/2+100,1e3,3e4,this.kb),this.xa={},this.xa.o=this.S.m,this.xa.m=this.S.m,this.xa.x=this.G/2+150,this.xa.y=this.W/2+100,this.S.right=!0,this.S.x>=this.xa.x+10&&!this.Zb&&(this.Zb=!0,this.Yb=this.B()+3e3),this.S.x>=this.xa.x+10&&(this.S.R=this.B()+3e3),this.Gb(t),this.S.Pa(),this.Wb=this.S.Ma(i,t,this.counter,this.Wb)},this.ac=function(){document.getElementById("controles_mobile").style.display="none",document.getElementById("canvas_mobile").style.display="none";var t=window.innerWidth,i=window.innerHeight;canvas_mobile_gira=document.getElementById("canvas_mobile_gira"),canvas_mobile_gira.style.display="block",ctx_mobile_gira=canvas_mobile_gira.getContext("2d"),canvas_mobile_gira.width=t,canvas_mobile_gira.height=i;var h=[[,,,1,1,1,1,,,,],[,,1,,,,,1,,,],[,1,,,,,,,1,,1],[,1,,,,,,,,1,1],[1,1,1,,,,,,1,1,1],[,,,,,,,,,,],[,,,,,,,,,,],[1,1,1,1,1,1,1,1,1,1,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,,1],[1,,,,,,,,1,1,1],[1,,,,,,,,1,1,1],[1,1,1,1,1,1,1,1,1,1,1]],s=t/2-12*h[0].length/2;this.ma(ctx_mobile_gira,s,200,h,12)},this.bc=function(){document.getElementById("canvas_mobile_gira").style.display="none",i=document.getElementById("canvas_mobile"),h=i.getContext("2d"),i.style.display="block";var t=window.innerWidth;i.width=this.G,i.height=100;var s=[[,1,,],[,1,1],[1,1,1,1],[,1,1],[,1,,]],a=[[,,1],[,1,1],[1,1,1,1],[,1,1],[,,1]],e=[[,,1,,],[,1,1,1],[1,1,1,1,1],[,1,1,1],[,1,1,1]],r=[[1,,1,,1],[,1,1,1],[1,1,1,1,1],[,1,1,1],[1,,1,,1]];this.ma(h,20,20,a,12),this.ma(h,120,20,s,12),this.ma(h,t-180,20,e,12),this.ma(h,t-80,20,r,12),document.getElementById("controles_mobile").style.display="block";var o=this;document.getElementById("der_mobile").addEventListener("touchstart",function(t){o.S.right=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("izq_mobile").addEventListener("touchstart",function(t){o.S.left=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("arr_mobile").addEventListener("touchstart",function(t){o.S.jump=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("accion_mobile").addEventListener("touchstart",function(t){o.S.accion=!0,this.className="tecla_mobile pulsada",t.preventDefault()}),document.getElementById("lost").addEventListener("touchmove",function(t){var i=document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY);t.preventDefault(),"der_mobile"===i.id?(o.S.right=!0,document.getElementById("der_mobile").className="tecla_mobile pulsada"):(o.S.right=!1,document.getElementById("der_mobile").className="tecla_mobile"),"izq_mobile"===i.id?(o.S.left=!0,document.getElementById("izq_mobile").className="tecla_mobile pulsada"):(o.S.left=!1,document.getElementById("izq_mobile").className="tecla_mobile")}),document.getElementById("der_mobile").addEventListener("touchend",function(t){o.S.right=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("izq_mobile").addEventListener("touchend",function(t){o.S.left=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("arr_mobile").addEventListener("touchend",function(t){o.S.jump=!1,this.className="tecla_mobile",t.preventDefault()}),document.getElementById("accion_mobile").addEventListener("touchend",function(t){o.S.accion=!1,this.className="tecla_mobile",t.preventDefault()})};var i,h,s=this;this.cc=function(){this.ob()&&(window.innerHeight>window.innerWidth?(s.ac(),s.Wa=!0):(s.bc(),s.Wa=!1),window.addEventListener("orientationchange",function(t){window.setTimeout(function(){window.innerHeight>window.innerWidth?(s.ac(),juego.Wa=!0):(s.bc(),s.Wa=!1)},300)}))}};!function(){function t(){if(h.Wa)return void requestAnimationFrame(t,canvas);if(!h.Va)return h.counter++,h.ctx.clearRect(0,0,h.G,h.W),h.Ub(h.ctx),h.$b(h.ctx,a),void requestAnimationFrame(t,canvas);for(s=h.B(),a+=Math.min(1,(s-e)/1e3);a>h.fb;)a-=h.fb,h.dc||h.va(h.fb);h.Mb(),h.Bb(h.ctx,h.counter,a),h.Ob(),e=s,h.counter++,requestAnimationFrame(t,canvas)}function i(){document.hidden?h.Wa=!0:(h.Wa=!1,h.cc())}var h=new f;h.cc(),h.counter=0;var s,a=0,e=h.B();h.B();document.addEventListener("keydown",function(t){return h.pb(t,t.keyCode,!0)},!1),document.addEventListener("keyup",function(t){return h.pb(t,t.keyCode,!1)},!1),document.addEventListener("visibilitychange",i,!1);var c=new d,u=!1;c.init(r);var m=new d;m.init(o);var b=!1;window.golpe_audio;var x=new d;x.init(l);var y=!1;window.disparo_audio,window.disparo_audio2;var v=new d;v.init(n);var g=!1;window.levelup_audio2;var p=!1;t();var _=setInterval(function(){if(p)return h.cc(),void clearInterval(_);if(!u){var t=c.generate();h.music_percent=t,t>=1&&(u=!0)}if(b||m.generate()>=1&&(b=!0),g||v.generate()>=1&&(g=!0),y||x.generate()>=1&&(y=!0),p=u&&y&&b){var i=c.createWave();window.audio=document.createElement("audio"),window.audio.src=URL.createObjectURL(new Blob([i],{type:"audio/wav"})),window.audio.loop=!0,window.audio.volume=.3;var s=m.createWave();window.golpe_audio=document.createElement("audio"),window.golpe_audio.src=URL.createObjectURL(new Blob([s],{type:"audio/wav"})),window.golpe_audio.volume=.5;var a=v.createWave();window.levelup_audio2=document.createElement("audio"),window.levelup_audio2.src=URL.createObjectURL(new Blob([a],{type:"audio/wav"})),window.levelup_audio2.volume=1;var e=x.createWave();window.disparo_audio2=document.createElement("audio"),window.disparo_audio=document.createElement("audio"),window.disparo_audio.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),window.disparo_audio.volume=.6,window.disparo_audio2.src=URL.createObjectURL(new Blob([e],{type:"audio/wav"})),window.disparo_audio2.volume=.3}},50)}();